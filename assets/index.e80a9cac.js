var Nt=Object.defineProperty,Gt=Object.defineProperties;var qt=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var Ut=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var it=(e,t,o)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,fe=(e,t)=>{for(var o in t||(t={}))Ut.call(t,o)&&it(e,o,t[o]);if(at)for(var o of at(t))Wt.call(t,o)&&it(e,o,t[o]);return e},Fe=(e,t)=>Gt(e,qt(t));import{c as D,o as x,a as I,r as ae,m as le,u as S,b as Kt,d as rt,e as A,f as w,g as _e,n as N,h as ye,i as T,j as d,p as Yt,w as M,k as Ie,l as Me,q as ze,s as ee,t as pe,v as Re,x as ge,y as ue,z as Ne,A as te,F as X,B as se,C as Se,D as xe,E as L,T as Jt,G as Ae,O as Xt,H as Qt,I as Zt,J as en,K as tn,L as nn,M as on,N as Q,P as ln,Q as Ge,R as sn,S as an,U as rn,V as j,W as cn,X as un}from"./vendor.0e453d2d.js";const dn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=o(l);fetch(l.href,s)}};dn();if(typeof window!="undefined"){let e=function(){let t=document.body,o=document.getElementById("__svg__icons__dom__1635868543204__");o||(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),o.style.position="absolute",o.style.width="0",o.style.height="0",o.id="__svg__icons__dom__1635868543204__"),o.innerHTML='<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-bottom"><rect x="3.333" y="16.666" width="1.667" height="13.333" rx=".833" transform="rotate(-90 3.333 16.666)" fill="#636C78" /><path d="M7.5 3.611A1.11 1.11 0 0 1 8.611 2.5h2.778A1.11 1.11 0 0 1 12.5 3.611v8.611c0 .614-.498 1.111-1.111 1.111H8.61a1.111 1.111 0 0 1-1.111-1.11V3.61z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M8.944 3.944v7.945h2.112V3.944H8.944zM8.611 2.5A1.11 1.11 0 0 0 7.5 3.611v8.611a1.11 1.11 0 0 0 1.111 1.111h2.778a1.11 1.11 0 0 0 1.111-1.11V3.61c0-.614-.498-1.111-1.111-1.111H8.61z" fill="#000" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-center"><path d="M17.5 4.167h-15v1.666h15V4.167zM15 7.5H5v1.667h10V7.5zM2.5 10.833h15V12.5h-15v-1.667zM15 14.167H5v1.666h10v-1.666z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-horizontal-middle"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 3.333a.833.833 0 0 0-.833.834V7.5h1.666V4.167A.833.833 0 0 0 10 3.334zm.833 9.167H9.167v3.334a.833.833 0 0 0 1.666 0V12.5z" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15.367 8.8H4.633v2.4h10.734V8.8zm1.3-.3a1 1 0 0 0-1-1H4.333a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h11.334a1 1 0 0 0 1-1v-3z" fill="#000" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-justify"><path d="M17.5 4.167h-15v1.666h15V4.167zm0 3.333h-15v1.667h15V7.5zm-15 3.333h15V12.5h-15v-1.667zm11 3.334h-11v1.666h11v-1.666z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-left"><rect x="3.333" y="3.333" width="1.667" height="13.333" rx=".833" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M16.2 8.8H7.967v2.4H16.2V8.8zm1.3-.3a1 1 0 0 0-1-1H7.667a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1H16.5a1 1 0 0 0 1-1v-3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-right"><rect width="1.667" height="13.333" rx=".833" transform="matrix(-1 0 0 1 16.667 3.333)" fill="#636C78" /><path d="M3.5 7.5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h8.833a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3.5z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M3.8 8.8h8.233v2.4H3.8V8.8zm-1.3-.3a1 1 0 0 1 1-1h8.833a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1v-3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-top"><rect x="16.667" y="3.333" width="1.667" height="13.333" rx=".833" transform="rotate(90 16.667 3.333)" fill="#636C78" /><path d="M12.5 16.5a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V7.667a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1V16.5z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2 16.2V7.967H8.8V16.2h2.4zm.3 1.3a1 1 0 0 0 1-1V7.667a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1V16.5a1 1 0 0 0 1 1h3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-vertical-middle"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.667 10a.833.833 0 0 0-.834-.834H12.5v1.667h3.333c.46 0 .834-.373.834-.833zm-9.167.833V9.166H4.167a.833.833 0 0 0 0 1.667H7.5z" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2 15.367V4.633H8.8v10.733h2.4zm.3 1.3a1 1 0 0 0 1-1V4.332a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v11.334a1 1 0 0 0 1 1h3z" fill="#000" /></symbol><symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-down--line"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.94 5.727 8 8.78l3.06-3.053.94.94-4 4-4-4 .94-.94z" /></symbol><symbol fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-left"><path clip-rule="evenodd" d="m4.667 8 5.402-5.337.936.949L6.564 8l4.441 4.388-.937.949L4.668 8z" /></symbol><symbol viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-up"><path fill-rule="evenodd" clip-rule="evenodd" d="M.854 3.146A.5.5 0 0 0 1.207 4h5.586a.5.5 0 0 0 .353-.854L4.354.354a.5.5 0 0 0-.708 0L.854 3.146z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__bold"><path d="M6.375 13.125V9.75h3.563c.93 0 1.687.757 1.687 1.688a1.69 1.69 0 0 1-1.688 1.687H6.376zm0-8.25h3c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5h-3v-3zm6.375 1.5A3.375 3.375 0 0 0 9.375 3H4.5v12h5.438a3.562 3.562 0 0 0 3.562-3.563c0-1.212-.609-2.28-1.534-2.923a3.347 3.347 0 0 0 .784-2.139z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__copy"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.375 4.5h8.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-8.25a.75.75 0 0 1-.75-.75V5.25a.75.75 0 0 1 .75-.75zm.75 1.5v9h6.75V6h-6.75zm4.5-3h-7.5v9.75h-1.5V2.25a.75.75 0 0 1 .75-.75h8.25V3z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__deleteline"><path d="M3.75 4.875V3h10.5v1.875H9.937V7.5H15V9H3V7.5h5.063V4.875H3.75zM9.938 15H8.063v-4.5h1.875V15z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__italic"><path d="M7.5 3v1.5h1.665l-2.25 9H5.25V15h5.25v-1.5H8.843l2.251-9h1.657V3H7.5z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer-down"><g mask="url(#hda)"><path fill-rule="evenodd" clip-rule="evenodd" d="m15.071 10.568 2.775-1.942a.416.416 0 0 0 0-.683l-7.607-5.325a.417.417 0 0 0-.478 0L2.154 7.943a.417.417 0 0 0 0 .683l2.775 1.942 1.385-1.065-1.74-1.219L10 4.486l5.428 3.798-1.741 1.219 1.384 1.065z" fill="#636C78" /><path d="M10.833 15H9.167V8.333a.833.833 0 1 1 1.666 0V15z" fill="#33383E" /><path fill-rule="evenodd" clip-rule="evenodd" d="m10 14.655-2.327-2.328a.833.833 0 1 0-1.179 1.179l2.77 2.77a1.042 1.042 0 0 0 1.473 0l2.769-2.77a.833.833 0 1 0-1.179-1.179L10 14.655z" fill="#33383E" /></g></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer-up"><g mask="url(#hfa)"><path fill-rule="evenodd" clip-rule="evenodd" d="m4.929 9.432-2.775 1.942a.417.417 0 0 0 0 .683l7.607 5.325c.143.1.334.1.478 0l7.607-5.325a.415.415 0 0 0 0-.683L15.07 9.432l-1.384 1.065 1.74 1.219L10 15.514l-5.428-3.798 1.741-1.219L4.93 9.432z" fill="#636C78" /><path d="M9.167 5h1.666v6.667a.833.833 0 0 1-1.666 0V5z" fill="#33383E" /><path fill-rule="evenodd" clip-rule="evenodd" d="m10 5.345 2.327 2.328a.833.833 0 1 0 1.179-1.179l-2.77-2.77a1.042 1.042 0 0 0-1.473 0l-2.769 2.77a.833.833 0 1 0 1.179 1.179L10 5.345z" fill="#33383E" /></g></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 1.667 2.33 5.885a.417.417 0 0 0 0 .73L10 10.833l7.67-4.218a.417.417 0 0 0 0-.73L10 1.667zm4.875 4.583L10 3.57 5.125 6.25 10 8.931l4.875-2.68z" /><path d="M17.5 8.674 10 12.799 2.5 8.674v1.902l7.5 4.125 7.5-4.125V8.674z" /><path d="M17.5 12.424 10 16.55l-7.5-4.125v1.902l7.5 4.125 7.5-4.125v-1.902z" /></symbol><symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="svg-icon__locked"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 11v8h12v-8H6zM5 9a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1H5z" fill="#F54531" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15 9V7a3 3 0 0 0-6 0v2h6zm-3-7a5 5 0 0 0-5 5v3.95c0 .027.023.05.05.05h9.9a.05.05 0 0 0 .05-.05V7a5 5 0 0 0-5-5z" fill="#F54531" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__spacing"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 16.667h1.667V3.333H2.5v13.334zm13.333 0H17.5V3.333h-1.667v13.334zM10 6.75l-1.708 4.083h3.416L10 6.75zM8.933 5h2.133l4.009 9.583h-1.808L12.4 12.5H7.6l-.867 2.083H4.925L8.933 5z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__straw"><path d="m4.879 13.227 6.954-6.953 2.121 2.12L7 15.35c-.296.295-.651.5-.97.56l-1.592.299c-.298.056-.474-.12-.418-.419l.298-1.591c.06-.32.265-.675.56-.97z" stroke="#606770" stroke-width="1.5" /><path fill-rule="evenodd" clip-rule="evenodd" d="m15.079 7.912.38 2.345a.5.5 0 0 1-.14.433l-.35.35a.5.5 0 0 1-.707 0L9.077 5.854a.5.5 0 0 1 0-.707l.353-.353a.5.5 0 0 1 .426-.141l2.261.328 2.428-2.428A2.083 2.083 0 0 1 17.492 5.5l-2.413 2.412z" fill="#606770" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-align-left"><path d="M17.5 4.167h-15v1.666h15V4.167zM13.333 7.5H2.5v1.667h10.833V7.5zM2.5 10.833h15V12.5h-15v-1.667zm10.833 3.334H2.5v1.666h10.833v-1.666z" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-align-right"><path d="M17.5 4.167h-15v1.666h15V4.167zm0 3.333H6.667v1.667H17.5V7.5zm-15 3.333h15V12.5h-15v-1.667zm15 3.334H6.667v1.666H17.5v-1.666z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-distortion"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.216 5.413a14.496 14.496 0 0 0-10.432 0l.998 7.981a13.637 13.637 0 0 1 8.436 0l.998-7.981zM3.121 4.24a1.1 1.1 0 0 0-.682 1.157l1.094 8.75a.854.854 0 0 0 1.147.694 12.302 12.302 0 0 1 8.64 0 .854.854 0 0 0 1.148-.694l1.094-8.75a1.1 1.1 0 0 0-.683-1.157 15.83 15.83 0 0 0-11.758 0z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M6.334 13.58 6 4.58l1.333-.05.333 9-1.332.05zm4-9.382L10 13.532l1.332.047.333-9.333-1.332-.048z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M14.333 8.719a18.618 18.618 0 0 0-10.666 0v1.396a17.285 17.285 0 0 1 10.666 0V8.72z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__trash"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.982 1.5a.375.375 0 0 0-.336.207L6 3H2.625v1.5h1.17l.707 11.3a.75.75 0 0 0 .748.7h7.5a.75.75 0 0 0 .748-.7l.707-11.3h1.17V3H12l-.646-1.293a.375.375 0 0 0-.336-.207H6.982zM5.3 4.5h7.397l-.65 10.5H5.951l-.65-10.5z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__underline"><path d="M4.875 3v5.625A4.13 4.13 0 0 0 9 12.75a4.13 4.13 0 0 0 4.125-4.125V3H11.25v5.625c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V3H4.875zm9.375 10.5V15H3.75v-1.5h10.5z" /></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="svg-icon__unlock"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 9H9V7a3 3 0 0 1 6 0h2A5 5 0 0 0 7 7v2H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1h-4zm-7.95 2H6v8h12v-8H7.05z" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__writing-mode"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.666 4.583V3.75h10v2.5H15v-.833h-2.5v9.166h1.666v1.667H9.167v-1.667h1.666V5.417h-2.5v.834H6.667V4.583zm-3.332 7.084v-7.5H5v7.5h1.667l-3.333 4.166v-4.166z" /></symbol>',t.insertBefore(o,t.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}var F=(e,t)=>{for(const[o,n]of t)e[o]=n;return e};const fn={name:"SkyButton"};function pn(e){const t=e,o=D(()=>{const n=[];return t.size&&n.push(`sky-button--${t.size}`),t.plain&&n.push("sky-button--plain"),n});return(n,l)=>(x(),I("button",le({type:"button",class:["sky-button",S(o)]},n.$attrs),[ae(n.$slots,"default",{},void 0,!0)],16))}const hn=Object.assign(fn,{props:{plain:{type:Boolean,default:!1},size:{type:String,default:"",validator(e){return!e||["small","large"].includes(e)}}},setup:pn});var mn=F(hn,[["__scopeId","data-v-504bc46a"]]);const gn=["type","value"],vn={key:0,class:"sky-input__append flex-center"},_n={name:"SkyInput"};function yn(e,{emit:t}){const o=e,n=Kt(),l=rt(),s=A(null),a=D(()=>{const c=[];return o.size&&c.push(`sky-input--${o.size}`),n.append&&c.push("sky-input--append"),c});function r(c){t("input",c.target.value,c)}function i(c){t("change",c.target.value,c),ye(()=>{s.value.value=o.value})}return(c,u)=>(x(),I("div",{class:N(["sky-input",[...S(a),S(l).class]])},[w("input",le({ref:(p,h)=>{h.elInput=p,s.value=p},class:"sky-input__inner",type:e.type,value:e.value},c.$attrs,{onInput:r,onChange:i}),null,16,gn),c.$slots.append?(x(),I("div",vn,[ae(c.$slots,"append",{},void 0,!0)])):_e("",!0)],2))}const bn=Object.assign(_n,{props:{value:[String,Number],type:{type:String,default:"text"},size:{type:String,default:"",validator(e){return!e||["small","large"].includes(e)}}},emits:["input","change"],setup:yn});var ct=F(bn,[["__scopeId","data-v-3d656d19"]]);const Ce=(e,{decimal:t=0}={})=>t>0?Number(e.toFixed(t)):Math.round(e);const wn={name:"SkyInputNumber",inheritAttrs:!1};function Sn(e,{emit:t}){const o=e,n=rt(),l=D(()=>{const h="sky-input__number",C=[h,o.class];return n.size&&C.push(`${h}--${n.size}`),n.readonly!==void 0&&C.push(`${h}-readonly`),C}),s=D(()=>typeof o.max=="number"&&n.value>=o.max),a=D(()=>typeof o.min=="number"&&n.value<=o.min);function r(h){return h=Number(h),typeof o.min=="number"&&(h<o.min&&(h=o.min),h>o.max&&(h=o.max)),h}function i(h,C){t("input",r(h),C)}function c(h,C){t("change",r(h),C)}function u(){s.value||t("change",Ce(n.value+o.step,{decimal:o.decimal}))}function p(){a.value||t("change",Ce(n.value-o.step,{decimal:o.decimal}))}return(h,C)=>{const b=T("svg-icon");return x(),I("div",{class:N(S(l))},[d(ct,le({type:"number"},S(n),{onInput:i,onChange:c}),null,16),w("div",{class:N(["sky-input__number-arrow flex-center top-0",{"sky-disabled":S(s)}]),onClick:u},[d(b,{filename:"arrow-up"})],2),w("div",{class:N(["sky-input__number-arrow flex-center bottom-0",{"sky-disabled":S(a)}]),style:{transform:"rotateX(180deg)"},onClick:p},[d(b,{filename:"arrow-up"})],2)],2)}}const xn=Object.assign(wn,{props:{min:Number,max:Number,decimal:{type:Number,default:0},step:{type:Number,default:1},class:{type:String,default:""}},emits:["input","change"],setup:Sn});var Cn=F(xn,[["__scopeId","data-v-00c01dec"]]);const kn=e=>(Ie("data-v-25aed1d8"),e=e(),Me(),e),$n={class:"sky-select","data-sky-popup":""},En=kn(()=>w("div",{class:"absolute w-full h-full top-0 cursor-pointer"},null,-1)),In={class:"sky-select__arrow flex-center"},Mn={name:"SkySelect"};function zn(e,{expose:t,emit:o}){Yt("vmSelect",ze());const n=A(!1);function l(s){o("update:value",s),o("change",s),n.value=!1}return t({handleChange:l}),(s,a)=>{const r=T("SkyInput"),i=T("svg-icon"),c=T("SkyPopup");return x(),I("div",$n,[w("div",{onClick:a[0]||(a[0]=u=>n.value=!n.value)},[d(r,{value:e.value,readonly:""},null,8,["value"]),En,w("div",In,[d(i,{filename:"arrow-down--line"})])]),d(c,{visible:n.value,"onUpdate:visible":a[1]||(a[1]=u=>n.value=u),class:"sky-select__popup"},{default:M(()=>[ae(s.$slots,"default",{},void 0,!0)]),_:3},8,["visible"])])}}const Rn=Object.assign(Mn,{props:{value:{type:[String,Number],required:!0}},emits:["update:value","change"],setup:zn});var Tn=F(Rn,[["__scopeId","data-v-25aed1d8"]]);const Bn=["value"],On={key:1},An={name:"SkyOption",inheritAttrs:!1};function Hn(e){const t=e,o=ee("vmSelect"),n=D(()=>({active:t.value===o.props.value}));function l(){o.exposed.handleChange(t.value)}return(s,a)=>(x(),I("div",{class:N(["sky-option",S(n)]),value:e.value,onClick:l},[s.$slots.default?ae(s.$slots,"default",{key:0},void 0,!0):(x(),I("span",On,pe(e.label),1))],10,Bn))}const Dn=Object.assign(An,{props:{label:{type:String,default:""},value:{required:!0}},setup:Hn});var Pn=F(Dn,[["__scopeId","data-v-83d83e12"]]);const Te=(e,{onmousedown:t,onmousemove:o,onmouseup:n}={})=>{let l=e.getBoundingClientRect();const s={x:0,y:0},a=u=>{let p=u.pageX-l.x,h=u.pageY-l.y;p<0&&(p=0),p>l.width&&(p=l.width),h<0&&(h=0),h>l.height&&(h=l.height),s.x=Ce(p/l.width,{decimal:2}),s.y=Ce(h/l.height,{decimal:2})},r=u=>{a(u),o&&o(s,u)},i=u=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),n&&n(s,u)},c=u=>{l=e.getBoundingClientRect(),a(u),document.addEventListener("mousemove",r),document.addEventListener("mouseup",i),t&&t(s,u)};return e.addEventListener("mousedown",c),{destroy(){e.removeEventListener("mousedown",c)}}},ut=(e,t,o)=>{let n=Math.round(e).toString(16),l=Math.round(t).toString(16),s=Math.round(o).toString(16);return n.length===1&&(n="0"+n),l.length===1&&(l="0"+l),s.length===1&&(s="0"+s),"#"+n+l+s},He=(e,t,o,n=1)=>{const l=ut(e,t,o);let s=Math.round(n*255).toString(16);return s.length===1&&(s="0"+s),l+s},dt=(e,t,o)=>{e/=255,t/=255,o/=255;const n=Math.min(e,t,o),l=Math.max(e,t,o),s=l-n;let a=0,r=0;const i=l;if(s===0)a=r=0;else{r=s/l;const c=((l-e)/6+s/2)/s,u=((l-t)/6+s/2)/s,p=((l-o)/6+s/2)/s;e===l?a=p-u:t===l?a=1/3+c-p:o===l&&(a=2/3+u-c),a<0?a+=1:a>1&&(a-=1)}return[a*360,r*100,i*100]},Ln=(e,t,o,n=1)=>[...dt(e,t,o),n];function Vn(e,t,o){e=e/360*6,t/=100,o/=100;const n=Math.floor(e),l=e-n,s=o*(1-t),a=o*(1-l*t),r=o*(1-(1-l)*t),i=n%6,c=[o,a,s,s,r,o][i],u=[r,o,o,a,s,s][i],p=[s,s,r,o,o,a][i];return[Math.round(c*255),Math.round(u*255),Math.round(p*255)]}const jn=(e,t,o)=>{const[n,l,s]=Vn(e,t,o);return ut(n,l,s)},Fn=(e,t,o,n=1)=>`${jn(e,t,o)}${n===0?"00":Math.round(n*255).toString(16)}`,qe=e=>{e=e.slice(0,7);let t=0,o=0,n=0;return e.length==4?(t=+("0x"+e[1]+e[1]),o=+("0x"+e[2]+e[2]),n=+("0x"+e[3]+e[3])):e.length==7&&(t=+("0x"+e[1]+e[2]),o=+("0x"+e[3]+e[4]),n=+("0x"+e[5]+e[6])),[t,o,n]},Ue=e=>{const t=qe(e),o=+("0x"+e[7]+e[8]);return[...t,+(o/255).toFixed(2)]},Nn=e=>{const[t,o,n,l]=Ue(e);return Ln(t,o,n,l)},Gn=e=>e.startsWith("#")?"\u7EAF\u8272":e.startsWith("linear-gradient")?"\u6E10\u53D8":"\u56FE\u6848",ft=(e,t)=>{const o=[];return t.forEach(n=>{o.push(`${n.color} ${n.offset*100}%`)}),`linear-gradient(${e}deg, ${o.join(",")})`};const We=e=>(Ie("data-v-4361bfdc"),e=e(),Me(),e),qn={class:"sky-color-picker"},Un={class:"mb-3"},Wn={key:1,class:"sky-cp__gradient flex-center"},Kn={class:"sky-cp__gradient-bar w-48 h-4"},Yn=["data-sort","onMousedown","onKeyup"],Jn=We(()=>w("div",{class:"sky-cpp__color-saturation"},null,-1)),Xn=We(()=>w("div",{class:"sky-cpp__color-value"},null,-1)),Qn={class:"sky-cp__slider sky-cp__slider-hux"},Zn={class:"sky-cp__slider sky-cp__slider-alpha"},eo={class:"flex justify-between mt-3.5"},to={key:0,class:"sky-cp__picking-model"},no=We(()=>w("div",{class:"sky-cp__straw-mousetrack"},null,-1)),oo={name:"SkyColorPicker",inheritAttrs:!1};function lo(e,{emit:t}){const o=e,n=A(Gn(o.value)),l=A(90),s=A([]),a=Re({h:0,s:0,l:0,a:0}),r=A("#f00"),i=A("#000"),c=A(0),u=A(!1);let p=A({});const h=A(),C=A(),b=A(),g=A(),_=A(),v=A(),m=A();A();let f=null,y=null,$=null,z=null,R=null,k=null;const E={color:o.defaultColor,gradient:o.defaultGradient,image:o.defaultImage},B=D(()=>o.modes.includes("\u6E10\u53D8")),G=D(()=>{const O=qe(i.value).join(",");return{background:`linear-gradient(to right, rgba(${O}, 0) 0%, rgb(${O}) 100%)`}});ge(p,O=>{Ve(O.color)});const q=ge(a,U,{deep:!0});function U(O){const P=Fn(...Object.values(O));let J;n.value==="\u7EAF\u8272"?J=P:n.value==="\u6E10\u53D8"&&(p.value.color=P,J=ft(l.value,s.value)),Ee(P),he(J)}ue(K);async function K(){b.value.style.left=`${a.s}%`,b.value.style.top=`${100-a.l}%`,g.value.style.left=`${a.h/360*100}%`,v.value.style.left=`${a.a*100}%`,B.value&&(f=Te(h.value,{onmousedown:O,onmousemove:P,onmouseup:J}));function O(W){if(R)return;const ce=s.value.findIndex(ve=>ve.offset>=W.x),H=s.value[ce-1],V=Ue(H.color),je=s.value[ce],lt=Ue(je.color),st=[];for(let ve=0;ve<3;ve+=1)st.push(V[ve]+(lt[ve]-V[ve])*W.x);const jt=je.offset-W.x-(W.x-H.offset)>0?V[3]:lt[3],Ft=He(...st,jt);p.value={color:Ft,offset:W.x},s.value.splice(ce,0,p.value)}function P(W){if(!R)return;p.value.offset=W.x,s.value.sort((H,V)=>H.offset-V.offset);const ce=ft(l.value,s.value);he(ce)}function J(){R=!1}y=Te(C.value,{onmousemove:ne,onmouseup:ne});function ne(W){const ce=W.x*100,H=W.y*100;a.s=Math.round(ce),a.l=Math.round(100-H),b.value.style.left=`${ce}%`,b.value.style.top=`${H}%`}$=Te(_.value,{onmousemove:re,onmouseup:re});function re(W){a.h=W.x*360,g.value.style.left=`${W.x*100}%`}z=Te(m.value,{onmousemove:Oe,onmouseup:Oe});function Oe(W){a.a=W.x,v.value.style.left=`${W.x*100}%`}me(n.value),Z(o.value)}Ne(()=>{y==null||y.destroy(),$==null||$.destroy(),z==null||z.destroy(),q(),f&&f.destroy()});function Z(O){n.value==="\u7EAF\u8272"?E.color=O:n.value==="\u6E10\u53D8"?E.gradient=O:n.value==="\u56FE\u6848"&&(E.image=O)}function he(O){O!==o.value&&(Z(O),t("update:value",O))}async function $e(O){n.value=O;let P;O==="\u7EAF\u8272"?P=E.color:O==="\u6E10\u53D8"?P=E.gradient:O==="\u56FE\u6848"&&(P=E.image),he(P),await ye(),me(O)}function me(O){O==="\u6E10\u53D8"?s.value.length===0?o.value.match(/[^,]+/g).forEach((P,J)=>{if(J===0){l.value=Number(P.match(/\d+/)[0]);return}let[ne,re]=P.trim().split(" ");ne.startsWith("#")||(ne=He(ne)),re=re.match(/\d+/)[0]/100,s.value.push({color:ne,offset:re}),p.value=s.value[0]}):Ve(p.value.color):O==="\u7EAF\u8272"&&Ve(o.value)}function Ee(O){var P;r.value=`hsl(${a.h}, 100%, 50%)`,i.value=O.slice(0,7),k=i.value,c.value=Math.round(((P=a.a)!=null?P:1)*100)}function Ve(O){const P=Nn(O);a.h=P[0],a.s=P[1],a.l=P[2],a.a=P[3],Ee(O);let J=a.s;const ne=Math.round(100-a.l);b.value.style.left=`${J}%`,b.value.style.top=`${ne}%`,J=a.h/360,g.value.style.left=`${J*100}%`,v.value.style.left=`${a.a*100}%`}function Ht(O){R=!0,p.value=O}function Dt(O){if(!["Backspace","Delete"].includes(O.key)||s.value.length===2)return;const P=s.value.indexOf(p.value);s.value.splice(P,1),p.value=s.value[0]}function Pt(O){if(/^#(?:[0-9a-f]{3}){1,2}$/i.test(O)){const P=qe(O),[J,ne,re]=dt(...P);a.h=J,a.s=ne,a.l=re,b.value.style.left=`${a.s}%`,b.value.style.top=`${100-a.l}%`,g.value.style.left=`${a.h/360*100}%`,i.value=O}else i.value=k}function ot(O){a.a=O/100,v.value.style.left=`${O}%`}async function Lt(){}function Vt(){}return(O,P)=>{const J=T("SkyTabPanel"),ne=T("SkyTabs"),re=T("svg-icon"),Oe=T("SkyButton"),W=T("SkyInput"),ce=T("SkyInputNumber");return x(),I(X,null,[w("div",qn,[w("div",Un,pe(n.value),1),e.modes.length>1?(x(),te(ne,{key:0,value:n.value,onChange:$e},{default:M(()=>[(x(!0),I(X,null,se(e.modes,H=>(x(),te(J,{key:H,label:H},null,8,["label"]))),128))]),_:1},8,["value"])):_e("",!0),S(B)?Se((x(),I("div",Wn,[w("div",Kn,[w("div",{ref:(H,V)=>{V.elGradientTrack=H,h.value=H},class:"sky-cpgb__track h-full",style:L([{width:"174px"},{background:e.value}])},[(x(!0),I(X,null,se(s.value,(H,V)=>(x(),I("div",{key:V,class:N(["sky-cpgb__pointer",{"sky-cpgb__pointer--active":H===S(p)}]),"data-sort":V,style:L({left:`${H.offset*100}%`,background:H.color}),tabindex:"-1",onMousedown:je=>Ht(H),onKeyup:Ae(Dt,["stop"])},null,46,Yn))),128))],4)])],512)),[[xe,n.value==="\u6E10\u53D8"]]):_e("",!0),w("div",{ref:(H,V)=>{V.elPalette=H,C.value=H},class:"sky-cp__palette",style:L({background:r.value})},[Jn,Xn,w("div",{ref:(H,V)=>{V.elPalettePointer=H,b.value=H},class:"sky-cpp__pointer"},null,512)],4),w("div",Qn,[w("div",{ref:(H,V)=>{V.elSliderHux=H,_.value=H},class:"sky-cps__track"},[w("div",{ref:(H,V)=>{V.elSliderHuxPointer=H,g.value=H},class:"sky-cpst__pointer"},null,512)],512)]),w("div",Zn,[w("div",{class:"sky-cpsa__background",style:L(S(G))},null,4),w("div",{ref:(H,V)=>{V.elSliderAlpha=H,m.value=H},class:"sky-cps__track"},[w("div",{ref:(H,V)=>{V.elSliderAlphaPointer=H,v.value=H},class:"sky-cpst__pointer"},null,512)],512)]),w("div",eo,[d(Oe,{size:"small",onClick:Lt},{default:M(()=>[d(re,{filename:"straw"})]),_:1}),d(W,{value:i.value,class:"w-24 mx-1",size:"small",onChange:Pt},null,8,["value"]),d(ce,{value:c.value,"onUpdate:value":P[0]||(P[0]=H=>c.value=H),class:"w-12",size:"small",min:0,max:100,onInput:ot,onChange:ot},null,8,["value"])])]),(x(),te(Jt,{to:"body"},[u.value?(x(),I("div",to,[w("canvas",{class:"sky-cp__straw-canvas",onClick:Vt}),no])):_e("",!0)]))],64)}}const so=Object.assign(oo,{props:{value:{type:String,default:"#ffffff00"},modes:{type:Array,default:()=>["\u7EAF\u8272","\u6E10\u53D8","\u56FE\u6848"]},defaultColor:{type:String,default:"#ffffff00"},defaultGradient:{type:String,default:"linear-gradient(90deg, #fffae0ff 0%, #ffd1f1ff 100%)"},defaultImage:{type:String,default:"https://st0.dancf.com/csc/157/material-2d-textures/0/20190714-174653-ed3c.jpg"}},emits:["update:value"],setup:lo});var ao=F(so,[["__scopeId","data-v-4361bfdc"]]),io={watch:{visible(e){if(!e)return;for(this.mountEl=this.$parent.$el;this.mountEl&&!Reflect.has(this.mountEl.dataset,"skyPopup");)this.mountEl=this.mountEl.parentElement;if(!this.mountEl)return;const{top:t,left:o,width:n,height:l}=this.mountEl.getBoundingClientRect();this.$el.style.top=`${t+l}px`,this.$el.style.left=`${o+n/2}px`}}};const ro={name:"SkyPopup",mixins:[io]};function co(e,{emit:t}){const o=e,n=D(()=>({width:`${o.width}px`}));return(l,s)=>Se((x(),te(S(Xt),{class:"sky-popup",style:L(S(n)),onTrigger:s[0]||(s[0]=a=>t("update:visible",!1))},{default:M(()=>[ae(l.$slots,"default",{},void 0,!0)]),_:3},8,["style"])),[[xe,e.visible]])}const uo=Object.assign(ro,{props:{visible:{type:Boolean,default:!1},width:{type:Number,default:200}},emits:["update:visible"],setup:co});var fo=F(uo,[["__scopeId","data-v-54ee3737"]]);const po={class:"sky-tabs"},ho={class:"sky-tabs__header"},mo={class:"sky-tabs__header-shell"},go=["onClick"],vo={class:"sky-tabs__content"},_o={name:"SkyTabs"};function yo(e,{expose:t,emit:o}){const n=e;let l=0;const s=A([]),a=Re({width:0,left:0});let r=null;function i(u){var h,C;const p=s.value.findIndex(b=>b.props.label===u);a.left=`${l*p}%`,r=s.value[p],(C=(h=r.exposed)==null?void 0:h.changeActive)==null||C.call(h,!0)}function c(u,p){var h,C;o("update:value",u.props.label),o("change",u.props.label),a.left=`${l*p}%`,(C=(h=r==null?void 0:r.exposed)==null?void 0:h.changeActive)==null||C.call(h,!1),r=s.value[p],r.exposed.changeActive(!0)}return ge(()=>n.value,i),ue(()=>{l=100/s.value.length,a.width=`${l}%`,i(n.value)}),t({tabs:s}),(u,p)=>(x(),I("div",po,[w("div",ho,[w("div",mo,[(x(!0),I(X,null,se(s.value,(h,C)=>(x(),I("div",{key:h.props.label,class:N(["sky-tab__title",{"sky-active":h.props.label===e.value}]),onClick:b=>c(h,C)},pe(h.props.label),11,go))),128)),w("div",{class:"sky-tab__slider",style:L(S(a))},null,4)])]),w("div",vo,[ae(u.$slots,"default",{},void 0,!0)])]))}const bo=Object.assign(_o,{props:{value:{type:String,required:!0}},emits:["update:value","change"],setup:yo});var wo=F(bo,[["__scopeId","data-v-2fd72900"]]);const So={name:"SkyTabPanel"};function xo(e,{expose:t}){const o=ze();o.parent.exposed.tabs.value.push(o);const n=A(!1),l=D(()=>({display:n.value?"block":"none"}));function s(a){n.value=a}return t({changeActive:s}),(a,r)=>(x(),I("div",{class:"sky-tab-panel",style:L(S(l))},[ae(a.$slots,"default")],4))}const Co=Object.assign(So,{props:{label:{type:String,required:!0}},setup:xo});const ko={name:"SkyTooltip",props:{content:{type:[String,Number],default:""},direction:{type:String,default:"top",validator(e){return["top","right","bottom","left"].includes(e)}},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},computed:{rootClass(){const e=[`sky-tooltip--${this.direction}`];return this.disabled&&e.push("sky-tooltip--disabled"),this.active&&e.push("sky-tooltip--active"),e}}},$o=["data-tips"];function Eo(e,t,o,n,l,s){return x(),I("div",{class:N(["sky-tooltip",s.rootClass]),"data-tips":o.content},[ae(e.$slots,"default",{},void 0,!0)],10,$o)}var Io=F(ko,[["render",Eo],["__scopeId","data-v-d2e76e10"]]);const Mo={class:"sky-dialog__header"},zo={class:"sky-dialog__body"},Ro={class:"sky-dialog__footer"},To={name:"SkyDialog"};function Bo(e,{emit:t}){const o=e,n=D(()=>({display:o.visible?"flex":"none"})),l=D(()=>({width:o.width,height:o.height}));function s(){t("update:visible",!1)}return(a,r)=>(x(),I("div",{class:"sky-dialog flex-center",style:L(S(n))},[w("div",{class:"mask",onClick:s}),w("div",{class:"sky-dialog__panel",style:L(S(l))},[w("div",Mo,[ae(a.$slots,"header",{},void 0,!0)]),w("div",zo,[ae(a.$slots,"default",{},void 0,!0)]),w("div",Ro,[ae(a.$slots,"footer",{},void 0,!0)])],4)],4))}const Oo=Object.assign(To,{props:{visible:{type:Boolean,default:!1},width:{type:String,default:"80%"},height:{type:String,default:"80%"}},emits:["update:visible"],setup:Bo});var Ao=F(Oo,[["__scopeId","data-v-179c8dd6"]]);const Ho={name:"SkySlider"};function Do(e,{emit:t}){const o=e,n=A(!1),l=A(null),s=A(null);let a=null,r=null,i=null;const c=D(()=>Math.round(o.max-o.min)),u=D(()=>Math.round((o.value-o.min)/c.value*100)),p=D(()=>({width:`${u.value}%`})),h=D(()=>({left:`${u.value}%`}));ue(()=>{a=Te(l.value,{onmousedown:C,onmousemove:C}),r=()=>{n.value=!0},i=()=>{n.value=!1},s.value.addEventListener("mousedown",r),document.addEventListener("mouseup",i)}),Ne(()=>{a.destroy(),s.value.removeEventListener("mousedown",r),document.removeEventListener("mouseup",i)});function C(b){let g=b.x*c.value;o.step>0&&(g=Math.round(b.x*o.max/o.step)*o.step);const _=Ce(g+o.min,{decimal:2});_!==o.value&&t("update:value",_)}return(b,g)=>{const _=T("SkyTooltip");return x(),I("div",{class:"sky-slider",ref:(v,m)=>{m.elRoot=v,l.value=v}},[w("div",{class:"sky-slider__progress",style:L(S(p))},null,4),w("div",{ref:(v,m)=>{m.elPointer=v,s.value=v},class:"sky-slider__pointer",style:L(S(h))},[Se(d(_,{content:e.value,active:n.value},null,8,["content","active"]),[[xe,e.showTooltip]])],4)],512)}}const Po=Object.assign(Ho,{props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:0},showTooltip:{type:Boolean,default:!0}},emits:["update:value"],setup:Do});var Lo=F(Po,[["__scopeId","data-v-7e8a13ac"]]);const Vo=[mn,ct,Cn,Tn,Pn,ao,fo,wo,Co,Io,Ao,Lo];var jo={install(e){Vo.forEach(t=>{e.component(t.name,t)})}};const Fo=["xlink:href"],No={name:"SvgIcon"};function Go(e){const t=e,o=D(()=>`#svg-icon__${t.filename}`);return(n,l)=>(x(),I("svg",le({class:[`svg-icon__${e.filename}`,"svg-icon"],"aria-hidden":"true"},n.$attrs),[w("use",{"xlink:href":S(o)},null,8,Fo)],16))}const qo=Object.assign(No,{props:{filename:String},setup:Go});var pt=F(qo,[["__scopeId","data-v-3d81af54"]]);const ie={text:"text",image:"image"},ht="SourceHanSansSC-Regular",de={h:"horizontal-tb",v:"vertical-rl"},Uo={class:"cloud-text"},Wo={class:"text__effect"},Ko=["textContent"],Yo=["textContent"],Jo=["contenteditable"],Xo={name:"CloudText",inheritAttrs:!1};function Qo(e){const t=e,o=D(()=>{const r=t.cloud.writingMode===de.v;return Fe(fe({},n(t.cloud)),{width:r?"auto":"100%",height:r?"100%":"auto"})});function n(r){var c,u,p,h,C,b,g;const i={fontSize:r.fontSize?`${r.fontSize}px`:"",textAlign:(c=r.textAlign)!=null?c:"",color:r.color,textDecoration:(u=r.textDecoration)!=null?u:"",writingMode:(p=r.writingMode)!=null?p:"",fontWeight:(h=r.fontWeight)!=null?h:"",fontStyle:(C=r.fontStyle)!=null?C:"",lineHeight:(b=r.lineHeight)!=null?b:"",letterSpacing:(g=r.letterSpacing)!=null?g:""};return r.fontFamily&&(i.fontFamily=r.fontFamily),i}function l(r){return n(r)}function s(r){return{webkitTextStroke:`${r.width}px rgba(${r.color.join(",")})`}}function a(r){const{distance:i,angle:c,color:u,blur:p}=r,h=i*Math.cos((180-c)*(Math.PI/180)),C=i*Math.sin((180-c)*(Math.PI/180));return{textShadow:`${h}px ${C}px ${p}px rgba(${u.join(",")})`}}return(r,i)=>(x(),I("div",Uo,[Se(w("div",Wo,[(x(!0),I(X,null,se(e.cloud.strokes,(c,u)=>(x(),I("div",{key:`stroke${u}`,class:"text__stroke",style:L(s(c))},[(x(!0),I(X,null,se(e.cloud.texts,(p,h)=>(x(),I("span",{key:h,style:L(l(p)),textContent:pe(p.text)},null,12,Ko))),128))],4))),128)),(x(!0),I(X,null,se(e.cloud.shadows,(c,u)=>(x(),I("div",{key:`shadow${u}`,class:"text__shadow",style:L(a(c))},[(x(!0),I(X,null,se(e.cloud.texts,(p,h)=>(x(),I("span",{key:h,style:L(l(p)),textContent:pe(p.text)},null,12,Yo))),128))],4))),128))],512),[[xe,e.readonly]]),w("div",le({class:"text__content",style:S(o)},r.$attrs,{contenteditable:!e.readonly}),[(x(!0),I(X,null,se(e.cloud.texts,(c,u)=>(x(),I("span",{key:u,style:L(l(c))},pe(c.text),5))),128))],16,Jo)]))}const Zo=Object.assign(Xo,{props:{cloud:{type:Object,required:!0},readonly:{type:Boolean,default:!0}},setup:Qo});const el={name:"CloudTextEditor"};function tl(e,{expose:t}){const o=e,n=ee("sky"),l=["ne","nw","sw","se"];let s=null;const a={moveable:{onClick:C,onChangeTarget:b,onResizeStart:g,onResize:_,onResizeEnd:v,keepRatio:[...l],renderDirections:p(o.cloud.writingMode),onLeaveSelect:b}},r=A(),i=A(!0);A(JSON.stringify(o.cloud.texts));let c=null;const u=D(()=>({width:`${o.cloud.width/n.state.scale}px`,height:`${o.cloud.height/n.state.scale}px`,transform:`scale(${n.state.scale})`,transformOrigin:"top left"}));ge(i,m=>{m||(n.moveable.instance.passDragArea=!0)}),ge(()=>o.cloud.writingMode,m=>{a.moveable.renderDirections=p(m),n.moveable.updateState(),n.cloud.updateCloudsElementRect()}),ue(()=>{c=r.value.querySelector(".text__content"),["cloud.lineHeight"].forEach(m=>{ge(()=>m,async()=>{await ye(),n.cloud.updateCloudsElementRect()})})});function p(m){return m===de.v?[...l,"n","s"]:[...l,"w","e"]}function h(){window.getSelection().removeAllRanges(),window.getSelection().selectAllChildren(c)}function C(m){if(!i.value||o.cloud.lock||m.metaKey||m.shiftKey)return;const f=Date.now();f-s<300&&(i.value=!1,ye(()=>{h()})),s=f}function b(){i.value=!0,o.cloud.text=c.textContent}function g(m){const{datas:f}=m;f.startFontSize=o.cloud.fontSize}function _(m){const{datas:f,direction:y}=m,[$,z]=y,{el:R}=n.cloudVM[o.cloud.id].subTree;if(o.cloud.writingMode===de.h){if(z===0){const{clientHeight:k}=c;R.style.height=`${k}px`,o.cloud.height=k}}else if(o.cloud.writingMode===de.v&&$===0){const{clientWidth:k}=c;R.style.width=`${k}px`,o.cloud.width=k}$!==0&&z!==0&&(o.cloud.fontSize=f.startFontSize*f.scale[0])}function v(){}return t({skyHooks:a,readonly:i}),(m,f)=>(x(),I("div",{ref:(y,$)=>{$.elRoot=y,r.value=y},class:"cloud-text__editor",style:L(S(u)),onClick:C},[d(Zo,{cloud:e.cloud,readonly:i.value},null,8,["cloud","readonly"])],4))}const nl=Object.assign(el,{props:{cloud:{type:Object,required:!0}},setup:tl}),ol={class:"cloud__image"},ll=["src"],sl={name:"CloudImage"};function al(e){return(t,o)=>(x(),I("div",ol,[w("img",{src:e.cloud.src,alt:"",class:"image__content"},null,8,ll)]))}const il=Object.assign(sl,{props:{cloud:{type:Object,required:!0}},setup:al}),rl={name:"CloudImageEditor"};function cl(e,{expose:t}){return t({skyHooks:{moveable:{keepRatio:["ne","nw","sw","se"]}}}),(n,l)=>(x(),te(il,Qt(Zt(n.$attrs)),null,16))}const ul=Object.assign(rl,{setup:cl});const dl={class:"header"},fl={name:"ControlPanelHeader"};function pl(e){return(t,o)=>{const n=T("svg-icon");return x(),I("div",dl,[e.showBack?(x(),te(n,{key:0,filename:"arrow-left",onClick:o[0]||(o[0]=l=>t.emit("back"))})):_e("",!0),w("div",null,pe(e.title),1)])}}const hl=Object.assign(fl,{props:{showBack:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["back"],setup:pl});var De=F(hl,[["__scopeId","data-v-4f888f5e"]]),mt=`/* purgecss start ignore */

.sky-renderer {
  position: absolute;
  top: 0;
  left: 0;
}

.sky-background {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
}

.sky-clouds {
  position: absolute;
}

.sky-cloud {
  position: absolute;
}

/* purgecss end ignore */
`,gt=`/* purgecss start ignore */

.text-index {
  word-wrap: break-word;
}

.text__effect {
  position: absolute;
  width: 100%;
  height: 100%;
}

.text__content {
  position: absolute; /* \u7528\u6765\u63D0\u5347 DOM \u5C42\u7EA7 + \u83B7\u53D6\u5185\u5BB9\u771F\u5B9E\u5BBD\u9AD8 */
}

/* purgecss end ignore */
`,vt=`/* purgecss start ignore */

.cloud__image {
  height: 100%;
}

.image__content {
  display: block;
  width: 100%;
  height: 100%;
  -webkit-user-drag: none;
}

/* purgecss end ignore */
`;function Ke(e){return e.replace(/\n+/g,"").replace(/\/\*.+?\*\//g,"")}var ml=Ke(mt)+Ke(gt)+Ke(vt);const gl={key:0,class:"multiple-mask flex-center"},vl={name:"BarColorPicker",inheritAttrs:!1};function _l(e){const t=ee("sky"),o=A(!1),n=A(null);return ue(()=>{n.value=t.vm.subTree.children[0].el}),(l,s)=>{const a=T("SkyColorPicker"),r=T("SkyPopup");return x(),I("div",{class:"bar__color-picker",onPointerdown:s[2]||(s[2]=Ae(i=>o.value=!o.value,["stop"]))},[w("div",{class:"relative h-6 rounded cursor-pointer",style:L({background:l.$attrs.value})},[e.multiple?(x(),I("div",gl,"\u591A\u79CD\u989C\u8272")):_e("",!0)],4),d(r,{visible:o.value,"onUpdate:visible":s[0]||(s[0]=i=>o.value=i),width:256,onPointerdown:s[1]||(s[1]=Ae(()=>{},["stop"]))},{default:M(()=>[d(a,le({"straw-el":n.value,"straw-css":S(ml)},l.$attrs),null,16,["straw-el","straw-css"])]),_:1},8,["visible"])],32)}}const yl=Object.assign(vl,{props:{multiple:{type:Boolean,default:!1}},setup:_l});var _t=F(yl,[["__scopeId","data-v-23d9899a"]]);const bl={class:"flex justify-between items-center text-xs"},wl=w("div",null,"\u5B57\u95F4\u8DDD",-1),Sl={class:"flex justify-between items-center text-xs mt-2"},xl=w("div",null,"\u884C\u95F4\u8DDD",-1),Cl={name:"PopupSpacing"};function kl(e){const t=e,o=D(()=>{const{fontSize:l}=t.cloud;return l>50?-50:-l}),n=D(()=>{const{fontSize:l}=t.cloud;return l<50?50:l});return(l,s)=>{const a=T("SkySlider"),r=T("SkyInputNumber"),i=T("SkyPopup");return x(),te(i,le({width:240},l.$attrs),{default:M(()=>[w("div",bl,[wl,d(a,{value:e.cloud.letterSpacing,"onUpdate:value":s[0]||(s[0]=c=>e.cloud.letterSpacing=c),min:S(o),max:S(n),"show-tooltip":!1,class:"w-28 mx-2"},null,8,["value","min","max"]),d(r,{value:Math.round(e.cloud.letterSpacing),size:"small",class:"w-12",min:S(o),max:S(n),onChange:s[1]||(s[1]=c=>e.cloud.letterSpacing=c)},null,8,["value","min","max"])]),w("div",Sl,[xl,d(a,{value:e.cloud.lineHeight,"onUpdate:value":s[2]||(s[2]=c=>e.cloud.lineHeight=c),min:.5,max:2.5,"show-tooltip":!1,class:"w-28 mx-2"},null,8,["value","min","max"]),d(r,{value:e.cloud.lineHeight,min:.5,max:2.5,decimal:2,step:.02,size:"small",class:"w-12",onChange:s[3]||(s[3]=c=>e.cloud.lineHeight=c)},null,8,["value","min","max","step"])])]),_:1},16)}}const $l=Object.assign(Cl,{props:{cloud:{type:Object,required:!0}},setup:kl}),yt=en.create();yt.interceptors.response.use(e=>e.data);const El="https://www.gaoding.com/api/v2",Il=async e=>await yt.get(`${El}/fonts`,{params:{type:"font",page_size:100,page_num:e,region_id:1,biz_code:1,endpoint:4}});async function Ye(e){return new Promise((t,o)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=o,n.readAsDataURL(e)})}const Ml=e=>{if(typeof e!="string")return!1;const t="Arial";if(e.toLowerCase()==t.toLowerCase())return!0;const o="a",n=100,l=100,s=100,a=document.createElement("canvas"),r=a.getContext("2d");a.width=l,a.height=s,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";const i=c=>{r.clearRect(0,0,l,s),r.font=n+"px "+c+", "+t,r.fillText(o,l/2,s/2);const u=r.getImageData(0,0,l,s).data;return[].slice.call(u).filter(p=>p!=0)};return i(t).join("")!==i(e).join("")};function bt(e,t){const o=document.createElement("style");return o.id=e,o.innerHTML=`@font-face { font-family: "${e}"; src: local("${e}"), url("${t}"); }`,o}const Pe=tn("font",{state:()=>({list:[],download:{}}),actions:{async fetch(){this.list=[];const e=nn("SKY_FONTS",[]);if(e.value.length>0&&this.list.push(...e.value),this.list.length===0){for(let t=1;t<99;t+=1){const o=await Il(t);if(this.list.push(...o),o.length<100)break}e.value=this.list}},async addFont2Style(e,t){if(this.download[e]||Ml(e))return;const n=await(await fetch(t,{headers:{responseType:"blob"}})).blob(),l=await Ye(n);this.download[e]=l,document.head.appendChild(bt(e,l))}}});function zl(){const e=document.getSelection();let{anchorNode:t,anchorOffset:o,focusNode:n,focusOffset:l}=e;function s(){o=e.focusOffset,l=e.anchorOffset}let a=t==null?void 0:t.parentElement,r=n==null?void 0:n.parentElement;const i=a==null?void 0:a.parentElement,c=Array.from(i.children);let u=c.indexOf(a),p=c.indexOf(r);return u>p?(u=p,p=c.indexOf(a),a=r,r=t==null?void 0:t.parentElement,s()):u===p&&o>l&&s(),{selection:e,elTextContent:i,anchorEl:a,anchorElIndex:u,focusEl:r,focusElIndex:p,anchorOffset:o,focusOffset:l}}function Je(e,t,o){const n=fe({},e),l=fe({},e),s=fe({},e);n.text=e.text.slice(0,t),l.text=e.text.slice(t,o),s.text=e.text.slice(o);const a=[];return t!==0&&a.push(n),a.push(l),o!==e.text.length&&a.push(s),a}function Xe(e,t,o,n){const l=new Range;l.setStart(e,t),l.setEnd(o,n),window.getSelection().removeAllRanges(),window.getSelection().addRange(l)}function be(e,t,o){return o===void 0&&(o=e[0][t]),e.some(n=>n[t]!==o)}function wt(e,t,o){return o===void 0&&(o=e[0][t]),e.every(n=>n[t]===o)}const{toString:Rl,hasOwnProperty:Tl}=Object.prototype,Bl=e=>Rl.call(e).slice(8,-1),St=(e,t)=>Tl.call(e,t),Le=()=>Date.now().toString(36)+Math.random().toString(36).slice(2,9),Y=e=>Bl(e)==="Number"?`${e}px`:e,Ol=(e,t)=>{Object.keys(e).forEach(o=>{St(t,o)&&(e[o]=t[o])})},Al=(e=0)=>new Promise(t=>setTimeout(t,e)),xt=(e,t)=>e.filter(o=>!t.includes(o)),Hl=e=>e.filter((t,o,n)=>n.indexOf(t)===o),Dl=(e,t)=>e.length===t.length&&Hl([...e,...t]).length===e.length,Pl=(e,t)=>e/t,Ll=(e,t)=>e*t,ke=(e,t,o)=>Ll(Pl(e,t),o),Ct=e=>e.metaKey||e.shiftKey||e.ctrlKey;const Vl={class:"body"},jl={class:"bar__font"},Fl=["src"],Nl={class:"bar bar-tool"},Gl={class:"bar bar__color","data-sky-popup":""},ql={class:"bar bar-tool","data-sky-popup":""},Ul={name:"ControlPanelCloudText"};function Wl(e){const t=A(),o=A(),n=ee("sky"),{targetClouds:l}=n.runtime,[s]=l,a=Pe(),r=A(!1),i=Re({fontFamily:s.fontFamily,fontSize:s.fontSize,hasMultipleFontSize:be(l,"fontSize"),fontWeight:s.fontWeight,fontStyle:s.fontStyle,textDecoration:s.textDecoration,textAlign:s.textAlign,color:s.color,hasMultipleColor:be(l,"color"),writingMode:s.writingMode,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing});let c=n.birdVM[s.id],u=null;const p=D(()=>i.writingMode===de.v);on(()=>{Ol(i,s)}),ue(()=>{g(i.fontFamily)});function h(m,f,y){const $=i[m]===f&&y!=null?y:f;i[m]=$,l.forEach(z=>{z[m]=$})}function C(m,f,y,$){const R=be(m,f,y)?y:$;i[f]=R,m.forEach(k=>{k[f]=R})}function b(m,f,y){if(!(u&&u.selection.isCollapsed)){if(l.length>1)h(m,f,y);else if(c.exposed.readonly.value)h(m,f,y),s.texts.forEach($=>Reflect.deleteProperty($,m));else if(u){const{elTextContent:$,anchorOffset:z,anchorEl:R,anchorElIndex:k,focusOffset:E,focusEl:B,focusElIndex:G}=u;if(R===B){const q=s.texts[k],[U]=R.childNodes;if(!u.selection.isCollapsed)if(z===0&&E===U.length)C([q],m,f,y),Xe(U,0,U,U.length);else{const K=Je(q,z,E);s.texts.splice(k,1,...K);const Z=[];K.length===1?Z.push(...K):z===0?Z.push(K[0]):Z.push(K[1]),C(Z,m,f,y),ye(()=>{const he=Array.from($.children),$e=k+(z===0?0:1),[me]=he[$e].childNodes;Xe(me,0,me,me.length)})}}else{const q=[];let U=s.texts[G],K=Je(U,0,E);q.push(K[0]),s.texts.splice(G,1,...K);for(let Z=k+1;Z<G;Z+=1)U=s.texts[Z],q.push(U);U=s.texts[k],K=Je(U,z,U.text.length),q.push(K[z===0?0:1]),s.texts.splice(k,1,...K),C(q,m,f,y),ye(()=>{const Z=Array.from($.children),he=k+(z===0?0:1),$e=he+(G-k-1)+(E===B.length?0:1),[me]=Z[he].childNodes,[Ee]=Z[$e].childNodes;Xe(me,0,Ee,Ee.length)})}}}}function g(m){const f=a.list.find(z=>z.name===m);if(!f)return;const y=o.value.querySelector(".select__font-family").querySelector(".sky-input__inner"),$={backgroundImage:`url(${f.preview.url})`,backgroundSize:"80%",backgroundPosition:"12px center",backgroundRepeat:"no-repeat"};Object.assign(y.style,$)}function _(m){b("fontFamily",m),g(m);const f=a.list.find(y=>y.name===m);a.addFont2Style(f.name,f.content.woff)}function v(){h("writingMode",p.value?de.h:de.v),l.forEach(m=>{const{width:f,height:y}=m;m.width=y,m.height=f})}return document.onselectionchange=()=>{if(c.exposed.readonly.value){u=null;return}u=zl();const m=s.texts.slice(u.anchorElIndex,u.focusElIndex+1),[f]=m;Object.assign(i,{hasMultipleFontSize:be(m,"fontSize"),fontWeight:be(m,"fontWeight",700)?400:700,fontStyle:be(m,"fontStyle","italic")?"normal":"italic",color:f.color||s.color,hasMultipleColor:be(m,"color"),textDecoration:wt(m,"textDecoration","underline")?"underline":wt(m,"textDecoration","line-through")?"line-through":"none"})},(m,f)=>{const y=T("SkyOption"),$=T("SkySelect"),z=T("SkyInputNumber"),R=T("SkyTooltip"),k=T("svg-icon"),E=T("SkyButton");return x(),I("div",{ref:(B,G)=>{G.refRoot=B,o.value=B},class:"control-panel__cloud-text"},[d(De,{title:"\u6587\u5B57"}),w("div",Vl,[w("div",jl,[d($,{ref:(B,G)=>{G.refSelectFontFamily=B,t.value=B},value:S(i).fontFamily,class:"select__font-family",onChange:_},{default:M(()=>[(x(!0),I(X,null,se(S(a).list,B=>(x(),te(y,{key:B.id,label:B.name,value:B.name},{default:M(()=>[w("img",{src:B.preview.url,alt:""},null,8,Fl)]),_:2},1032,["label","value"]))),128))]),_:1},8,["value"]),d(z,{class:"ml-2",value:Math.round(S(i).fontSize),onInput:f[0]||(f[0]=B=>b("fontSize",B)),onChange:f[1]||(f[1]=B=>b("fontSize",B))},null,8,["value"])]),w("div",Nl,[d(E,{plain:"",class:N({active:S(i).fontWeight===700}),onClick:f[2]||(f[2]=B=>b("fontWeight",700,400))},{default:M(()=>[d(R,{content:"\u52A0\u7C97",direction:"bottom"}),d(k,{filename:"bold"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).fontStyle==="italic"}),onClick:f[3]||(f[3]=B=>b("fontStyle","italic","normal"))},{default:M(()=>[d(R,{content:"\u659C\u4F53",direction:"bottom"}),d(k,{filename:"italic"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).textDecoration==="underline"}),onClick:f[4]||(f[4]=B=>b("textDecoration","underline","none"))},{default:M(()=>[d(R,{content:"\u4E0B\u5212\u7EBF",direction:"bottom"}),d(k,{filename:"underline"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).textDecoration==="line-through"}),onClick:f[5]||(f[5]=B=>b("textDecoration","line-through","none"))},{default:M(()=>[d(R,{content:"\u5220\u9664\u7EBF",direction:"bottom"}),d(k,{filename:"deleteline"})]),_:1},8,["class"])]),w("div",{class:N(["bar bar-tool",{vertical:S(p)}])},[d(E,{plain:"",class:N({active:S(i).textAlign==="left"}),onClick:f[6]||(f[6]=B=>h("textAlign","left"))},{default:M(()=>[d(R,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d(k,{filename:"text-align-left"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).textAlign==="center"}),onClick:f[7]||(f[7]=B=>h("textAlign","center"))},{default:M(()=>[d(R,{content:"\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(k,{filename:"align-center"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).textAlign==="right"}),onClick:f[8]||(f[8]=B=>h("textAlign","right"))},{default:M(()=>[d(R,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d(k,{filename:"text-align-right"})]),_:1},8,["class"]),d(E,{plain:"",class:N({active:S(i).textAlign==="justify"}),onClick:f[9]||(f[9]=B=>h("textAlign","justify"))},{default:M(()=>[d(R,{content:"\u4E24\u7AEF\u5BF9\u9F50",direction:"bottom"}),d(k,{filename:"align-justify"})]),_:1},8,["class"])],2),w("div",Gl,[d(_t,{value:S(i).color,modes:["\u7EAF\u8272"],multiple:S(i).isMultipleColor,"onUpdate:value":f[10]||(f[10]=B=>b("color",B))},null,8,["value","multiple"])]),w("div",ql,[d(E,{plain:"",class:N({active:S(p)}),onClick:v},{default:M(()=>[d(R,{content:"\u6587\u5B57\u7AD6\u7248",direction:"bottom"}),d(k,{filename:"writing-mode"})]),_:1},8,["class"]),d(E,{plain:"",onClick:f[11]||(f[11]=B=>r.value=!r.value)},{default:M(()=>[d(R,{content:"\u95F4\u8DDD",direction:"bottom"}),d(k,{filename:"spacing"})]),_:1}),d($l,{showSpacingPopup:r.value,"onUpdate:showSpacingPopup":f[12]||(f[12]=B=>r.value=B),cloud:S(i)},null,8,["showSpacingPopup","cloud"]),d(E,{plain:""},{default:M(()=>[d(R,{content:"\u6587\u5B57\u53D8\u5F62",direction:"bottom"}),d(k,{filename:"text-distortion"})]),_:1})])])],512)}}const Kl=Object.assign(Ul,{setup:Wl});var Yl=F(Kl,[["__scopeId","data-v-d470a282"]]);const Jl={class:"control-panel__cloud-image"},Xl={class:"body"},Ql=Q("\u66FF\u6362\u56FE\u7247"),Zl={name:"ControlPanelCloudImage"};function es(e){function t(){const o=document.createElement("input");o.type="file",o.click(),o.onchange=async n=>{const l=await Ye(n.target.files[0]);sky.runtime.targetClouds.forEach(s=>{s.src=l,o.remove()})}}return(o,n)=>{const l=T("SkyButton");return x(),I("div",Jl,[d(De,{title:"\u56FE\u7247"}),w("div",Xl,[d(l,{onClick:t},{default:M(()=>[Ql]),_:1})])])}}const ts=Object.assign(Zl,{setup:es});const ns=e=>(Ie("data-v-3df109f8"),e=e(),Me(),e),os={class:"control-panel__group"},ls={class:"body"},ss={class:"bar bar-tool mt-3"},as=ns(()=>w("div",{class:"h-4 w-px bg-gray-300"},null,-1)),is={name:"ControlPanelGroup"};function rs(e){const t=ee("sky"),o=D(()=>{var l;return t.runtime.targetClouds.length===1&&((l=t.runtime.targetClouds[0])==null?void 0:l.type)==="clouds"});function n(){o?t.cloud.unGroup():t.cloud.toGroup()}return(l,s)=>{const a=T("SkyButton"),r=T("SkyTooltip"),i=T("svg-icon");return x(),I("div",os,[d(De,{title:"\u7EC4\u5408"}),w("div",ls,[d(a,{class:"button__group",onClick:n},{default:M(()=>[Q(pe(S(o)?"\u62C6\u5206":"\u6210")+"\u7EC4 ",1)]),_:1}),w("div",ss,[d(a,{plain:"",onClick:l.$sky.cloud.alignTop},{default:M(()=>[d(r,{content:"\u4E0A\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-top"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:l.$sky.cloud.alignVerticalMiddle},{default:M(()=>[d(r,{content:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-vertical-middle"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:l.$sky.cloud.alignBottom},{default:M(()=>[d(r,{content:"\u4E0B\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-bottom"})]),_:1},8,["onClick"]),as,d(a,{plain:"",onClick:l.$sky.cloud.alignLeft},{default:M(()=>[d(r,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-left"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:l.$sky.cloud.alignHorizontalMiddle},{default:M(()=>[d(r,{content:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-horizontal-middle"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:l.$sky.cloud.alignRight},{default:M(()=>[d(r,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-right"})]),_:1},8,["onClick"])])])])}}const cs=Object.assign(is,{setup:rs});var kt=F(cs,[["__scopeId","data-v-3df109f8"]]);const Qe=e=>(Ie("data-v-89f53d88"),e=e(),Me(),e),us={class:"control-panel__default"},ds={class:"body"},fs={class:"panel-label"},ps=Qe(()=>w("span",null,"\u753B\u5E03\u5C3A\u5BF8",-1)),hs=Q("\u7F16\u8F91"),ms={class:"size"},gs=Q("\u5BBD"),vs=Qe(()=>w("i",{class:"w-2"},null,-1)),_s=Q("\u9AD8"),ys=Qe(()=>w("div",{class:"panel-label"},[w("span",null,"\u753B\u5E03\u80CC\u666F")],-1)),bs=Q("\u4E0A\u4F20\u80CC\u666F\u56FE"),ws={name:"ControlPanelDefault"};function Ss(e){const t=ee("sky"),o=A("\u989C\u8272"),n=A(!1),l=D(()=>`${parseInt(t.state.width/t.state.scale)}px`),s=D(()=>`${parseInt(t.state.height/t.state.scale)}px`),a=D({get(){return t.state.background.color},set(r){t.state.background.color=r}});return(r,i)=>{const c=T("SkyButton"),u=T("SkyInput"),p=T("SkyTabPanel"),h=T("SkyTabs"),C=T("SkyDialog");return x(),I("div",us,[d(De,{title:"\u753B\u5E03"}),w("div",ds,[w("div",fs,[ps,d(c,{size:"small",plain:""},{default:M(()=>[hs]),_:1})]),w("div",ms,[d(u,{value:S(l),readonly:""},{append:M(()=>[gs]),_:1},8,["value"]),vs,d(u,{value:S(s),readonly:""},{append:M(()=>[_s]),_:1},8,["value"])]),ys,d(h,{value:o.value,"onUpdate:value":i[2]||(i[2]=b=>o.value=b),class:"bg-tabs","data-sky-popup":""},{default:M(()=>[d(p,{class:"bar bar__color",label:"\u989C\u8272"},{default:M(()=>[d(_t,{value:S(a),"onUpdate:value":i[0]||(i[0]=b=>ln(a)?a.value=b:null),"default-color":"#ffffff00",modes:["\u7EAF\u8272","\u6E10\u53D8"]},null,8,["value"])]),_:1}),d(p,{label:"\u56FE\u7247"},{default:M(()=>[d(c,{style:{height:"40px"},onClick:i[1]||(i[1]=b=>n.value=!0)},{default:M(()=>[bs]),_:1})]),_:1})]),_:1},8,["value"])]),d(C,{visible:n.value,"onUpdate:visible":i[3]||(i[3]=b=>n.value=b)},null,8,["visible"])])}}const xs=Object.assign(ws,{setup:Ss});var Cs=F(xs,[["__scopeId","data-v-89f53d88"]]);const Ze=e=>(Ie("data-v-5dc12464"),e=e(),Me(),e),ks=Ze(()=>w("div",{class:"title"},"\u753B\u5E03\u5BF9\u9F50",-1)),$s={class:"flex justify-between items-center"},Es=Ze(()=>w("div",{class:"h-4 w-px bg-gray-300"},null,-1)),Is=Ze(()=>w("div",{class:"title mt-3"},"\u56FE\u5C42\u987A\u5E8F",-1)),Ms={class:"flex justify-between items-center"},zs={class:"relative"},Rs={class:"layer-step"},Ts={name:"PopupLayer"};function Bs(e){const t=e,o=ee("sky"),n=A(0),l=A([]),s=D(()=>l.value.length),a=D(()=>s.value===0?0:s.value-1);ge(()=>t.visible,u=>{if(!u)return;const p=o.cloud.getOverlappingClouds4Cloud(),[h,...C]=o.runtime.targetClouds;l.value=p.filter(b=>!C.includes(b)),n.value=l.value.findIndex(b=>b.id===h.id)});function r(u){u>n.value?o.cloud.moveUp():o.cloud.moveDown(),n.value=u}function i(){n.value<=0||r(n.value-1)}function c(){n.value>=a||r(n.value+1)}return(u,p)=>{const h=T("SkyTooltip"),C=T("svg-icon"),b=T("SkyButton"),g=T("SvgIcon"),_=T("SkySlider"),v=T("SkyPopup");return x(),te(v,le({class:"popup__layer",width:240,visible:e.visible},u.$attrs),{default:M(()=>[ks,w("div",$s,[d(b,{plain:"",onClick:u.$sky.cloud.alignEditorTop},{default:M(()=>[d(h,{content:"\u4E0A\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-top"})]),_:1},8,["onClick"]),d(b,{plain:"",onClick:u.$sky.cloud.alignEditorVerticalMiddle},{default:M(()=>[d(h,{content:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-vertical-middle"})]),_:1},8,["onClick"]),d(b,{plain:"",onClick:u.$sky.cloud.alignEditorBottom},{default:M(()=>[d(h,{content:"\u4E0B\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-bottom"})]),_:1},8,["onClick"]),Es,d(b,{plain:"",onClick:u.$sky.cloud.alignEditorLeft},{default:M(()=>[d(h,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-left"})]),_:1},8,["onClick"]),d(b,{plain:"",onClick:u.$sky.cloud.alignEditorHorizontalMiddle},{default:M(()=>[d(h,{content:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-horizontal-middle"})]),_:1},8,["onClick"]),d(b,{plain:"",onClick:u.$sky.cloud.alignEditorRight},{default:M(()=>[d(h,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-right"})]),_:1},8,["onClick"])]),Is,w("div",Ms,[d(g,{filename:"layer-down",onClick:i}),w("div",zs,[Se(w("div",Rs,[(x(!0),I(X,null,se(S(a),m=>(x(),I("div",{key:m,style:L({left:`${m/S(a)*100}%`}),class:"absolute w-px h-full bg-gray-400"},null,4))),128))],512),[[xe,S(s)>1]]),d(_,{value:n.value,max:S(a),step:1,disabled:S(a)===0,"show-tooltip":!1,class:"w-36",onInput:r},null,8,["value","max","disabled"])]),d(g,{filename:"layer-up",onClick:c})])]),_:1},16,["visible"])}}const Os=Object.assign(Ts,{props:{visible:{type:Boolean,default:!1}},setup:Bs});var As=F(Os,[["__scopeId","data-v-5dc12464"]]);const Hs={class:"control-panel__container"},Ds={key:0,class:"py-4 border-t mx-4"},Ps={class:"bar mb-3"},Ls=w("img",{src:"https://cdn.dancf.com/design/img/fill_opacity.f6330ad5.svg"},null,-1),Vs={class:"bar bar-tool","data-sky-popup":""},js={name:"ControlPanelContainer"};function Fs(e){const t=ee("sky"),o={[ie.text]:Yl,[ie.image]:ts},n=A(!1),l=D(()=>{var C;return(C=t.runtime.targetClouds[0])!=null?C:{}}),s=D(()=>t.runtime.targetClouds.length===0?Cs:t.runtime.targetClouds.length>1||l.value.type==="clouds"?kt:o[l.value.type]),a=D(()=>t.runtime.targetClouds.length===0?"default":t.runtime.targetClouds.length>1?"group":t.runtime.targetClouds[0].id),r=D(()=>a.value==="default"),i=D(()=>t.runtime.targetClouds.length===1&&!t.cloud.isCloudsObject(l.value));function c(C){l.value.opacity=Ce(C/100,{decimal:2})}function u(){l.value.lock?t.cloud.unlock():t.cloud.lock()}function p(){t.cloud.copy(),t.cloud.paste()}function h(){t.cloud.delete()}return(C,b)=>{const g=T("SkySlider"),_=T("SkyInputNumber"),v=T("SkyTooltip"),m=T("svg-icon"),f=T("SkyButton");return x(),I("div",Hs,[(x(),te(Ge(S(s)),{key:S(a)})),S(r)?_e("",!0):(x(),I("div",Ds,[Se(w("div",Ps,[Ls,d(g,{value:S(l).opacity,"onUpdate:value":b[0]||(b[0]=y=>S(l).opacity=y),min:0,max:1,"show-tooltip":!1,class:"w-28"},null,8,["value"]),d(_,{value:Math.round(S(l).opacity*100),min:0,max:100,size:"small",class:"w-12",onChange:c},null,8,["value"])],512),[[xe,S(i)]]),w("div",Vs,[d(f,{plain:"",onClick:u},{default:M(()=>[d(v,{content:S(l).lock?"\u89E3\u9501":"\u9501\u5B9A"},null,8,["content"]),d(m,{filename:S(l).lock?"locked":"unlock"},null,8,["filename"])]),_:1}),d(f,{plain:"",disabled:S(l).lock,onPointerdown:b[1]||(b[1]=Ae(y=>n.value=!n.value,["stop"]))},{default:M(()=>[d(v,{content:"\u56FE\u5C42\u987A\u5E8F"}),d(m,{filename:"layer"})]),_:1},8,["disabled"]),d(As,{visible:n.value,"onUpdate:visible":b[2]||(b[2]=y=>n.value=y)},null,8,["visible"]),d(f,{plain:"",disabled:S(l).lock,onClick:p},{default:M(()=>[d(v,{content:"\u590D\u5236",disabled:S(l).lock},null,8,["disabled"]),d(m,{filename:"copy"})]),_:1},8,["disabled"]),d(f,{plain:"",disabled:S(l).lock,onClick:h},{default:M(()=>[d(v,{content:"\u5220\u9664",disabled:S(l).lock},null,8,["disabled"]),d(m,{filename:"trash"})]),_:1},8,["disabled"])])]))])}}const Ns=Object.assign(js,{setup:Fs}),Gs=e=>e.classList.contains("sky-cloud"),qs=e=>{var t;return!((t=e.parentElement)==null?void 0:t.classList.contains("sky-renderer"))},et=e=>e.classList.contains("sky-background"),Us=e=>e.classList.contains("sky-cloud-lock"),$t=e=>{for(;e&&!e.dataset.cloudId&&!Gs(e);)e=e.parentElement;return e},tt=e=>(e=$t(e),e&&(qs(e)&&e.parentElement?tt(e.parentElement):e));const Ws={name:"SkyEditor"};function Ks(e,{expose:t}){const o=ee("sky");o.vm=ze();const n=A(null),l=A(null);let s=null,a=null,r=!1;const i=D(()=>({width:`${o.state.width}px`,height:`${o.state.height}px`}));ue(()=>{o.moveable.createInstance(n.value)}),ge([()=>o.state.clouds,()=>o.state.background],()=>{o.history.unshift()},{immediate:!0,deep:!0});async function c(){r=!0;const[h]=a;!h||et(h)||Us(h)||(await o.moveable.setTarget(a),o.moveable.instance.dragStart(s))}async function u(h){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),r?r=!1:(await o.moveable.setTarget(a),o.cloud.setSelectCloud(h)),s=null,a=null}function p(h){s=h,a=o.moveable.getTarget(h),document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}return t({elSkyRenderer:l}),(h,C)=>{const b=T("SkyRenderer"),g=T("ControlPanelContainer");return x(),I("div",{ref:(_,v)=>{v.elRoot=_,n.value=_},class:"sky-editor",style:L(S(i))},[d(b,{ref:(_,v)=>{v.elSkyRenderer=_,l.value=_},background:S(o).state.background,clouds:S(o).state.clouds,scale:S(o).state.scale,onMousedown:p},null,8,["background","clouds","scale"]),d(g,{class:"sky-control-panel"})],4)}}const Ys=Object.assign(Ws,{setup:Ks});var Et=F(Ys,[["__scopeId","data-v-39c16d44"]]);const It="sky-cloud-lock",Js=["nw","ne","sw","se"],Xs=e=>({width:Y(e.width),height:Y(e.height),top:Y(e.top),left:Y(e.left),transform:e.transform}),Qs=["data-cloud-id"],Zs=w("i",{class:"border-before"},null,-1),ea={name:"Cloud",inheritAttrs:!1};function ta(e){const t=e,o=ee("sky"),n=ee("SkyCloudComponents"),l=A(),s=A(),a=D(()=>({opacity:t.cloud.opacity}));ue(()=>{const c=ze();o.cloudVM[t.cloud.id]=c,o.birdVM[t.cloud.id]=c.subTree.children[0].component,Object.assign(l.value.style,Xs(t.cloud))}),Ne(()=>{Reflect.deleteProperty(o.cloudVM,t.cloud.id)});function r(c){return{[It]:c.lock}}function i(c){return n[c]}return(c,u)=>(x(),I("div",{ref:(p,h)=>{h.elRoot=p,l.value=p},class:N(["sky-cloud",r(e.cloud)]),style:L(S(a)),"data-cloud-id":e.cloud.id},[(x(),te(Ge(i(e.cloud.type)),le({ref:(p,h)=>{h.elCloud=p,s.value=p},cloud:e.cloud,class:"sky-bird"},c.$attrs),null,16,["cloud"])),Zs],14,Qs))}const Mt=Object.assign(ea,{props:{cloud:{type:Object,require:!0,default:()=>({})}},setup:ta}),na=["data-cloud-id"],oa=w("i",{class:"border-before"},null,-1),la={name:"Clouds",inheritAttrs:!1};function sa(e){const t=e,o=ee("sky");onMounted(()=>{o.cloudVM[t.cloud.id]=o.birdVM[t.cloud.id]=ze()}),onBeforeUnmount(()=>{Reflect.deleteProperty(o.cloudVM,t.cloud.id)});function n(l){return{[It]:l.lock}}return(l,s)=>{const a=T("Clouds",!0);return x(),I("div",{class:N([n(e.cloud),"sky-cloud sky-clouds sky-bird"]),"data-cloud-id":e.cloud.id},[w("div",null,[(x(!0),I(X,null,se(e.cloud.clouds,r=>(x(),I(X,{key:r.id},[r.type==="clouds"?(x(),te(a,le({key:0,cloud:r},l.$attrs),null,16,["cloud"])):(x(),te(Mt,le({key:1,cloud:r},l.$attrs),null,16,["cloud"]))],64))),128))]),oa],10,na)}}const aa=Object.assign(la,{props:{cloud:{type:Object,required:!0}},setup:sa}),ia={name:"SkyRenderer",inheritAttrs:!1};function ra(e){const t=e,o=D(()=>({width:`${sky.state.width}px`,height:`${sky.state.height}px`})),n=D(()=>{var s;return{background:t.background.color,opacity:(s=t.background.opacity)!=null?s:1}});function l(s){return s.type==="clouds"?aa:Mt}return(s,a)=>(x(),I("div",{class:"sky-renderer",style:L(S(o))},[w("div",{class:"sky-background",style:L(S(n))},null,4),(x(!0),I(X,null,se(e.clouds,r=>(x(),te(Ge(l(r)),le({key:r.id,cloud:r},s.$attrs),null,16,["cloud"]))),128))],4))}const zt=Object.assign(ia,{props:{background:{type:Object,required:!0},clouds:{type:Array,default:()=>[]}},setup:ra}),ca={install(e,t){e.component(zt.name,zt),e.provide("SkyCloudComponents",t)}};function ua(e){const t={};return t.setBackground=o=>{Object.assign(e.state.background,o)},t.zoom=(o=1)=>{if(o===0||o===e.state.scale)return;const n=l=>{l.forEach(async s=>{const a=ke(s.width,e.state.scale,o),r=ke(s.height,e.state.scale,o),i=ke(s.top,e.state.scale,o),c=ke(s.left,e.state.scale,o);s.width=a,s.height=r,s.top=i,s.left=c,s.clouds&&s.clouds.length>0&&n(s.clouds)})};n(e.state.clouds),e.cloud.updateCloudsElementRect(e.state.clouds),e.state.width=ke(e.state.width,e.state.scale,o),e.state.height=ke(e.state.height,e.state.scale,o),setTimeout(e.moveable.instance.updateRect)},t}function da(e){const t={};t.getClouds=()=>{const{scale:n,clouds:l}=e.state,s=JSON.parse(JSON.stringify(l)),a=r=>{r.forEach(i=>{i.top=i.top/n,i.left=i.left/n,i.width=i.width/n,i.height=i.height/n,i.clouds&&i.clouds.length>0&&a(i.clouds)})};return a(s),s},t.getOverlappingClouds4Point=n=>{const{clientX:l,clientY:s}=n,a=r=>{const i=e.cloud.queryCloudElementById(r.id),c=i==null?void 0:i.getBoundingClientRect();if(!c)return!1;const u=l>=c.left&&l<=c.right,p=s>=c.top&&s<=c.bottom;return u&&p};return e.state.clouds.filter(a)},t.updateCloudsElementRect=(n=e.runtime.targetClouds)=>{n.forEach(l=>{const s=e.cloud.queryCloudElementById(l.id);!s||(s.style.top=Y(l.top),s.style.left=Y(l.left),s.style.width=Y(l.width),s.style.height=Y(l.height),e.moveable.instance.updateTarget(),l.clouds&&l.clouds.length>0&&t.updateCloudsElementRect(l.clouds))}),e.moveable.instance.updateRect()},t.getOverlappingClouds4Cloud=()=>{const n=e.moveable.instance.getRect(),l=n.left,s=n.left+n.width,a=n.top,r=n.top+n.height,i=p=>p>=l&&p<=s,c=p=>p>=a&&p<=r,u=(p,h)=>i(p)&&c(h);return e.state.clouds.filter(({top:p,left:h,width:C,height:b})=>{const g=h,_=h+C,v=p,m=p+b;return u(g,v)||u(_,v)||u(g,m)||u(_,m)||v<a&&m>r&&i(g)||g<l&&_>s&&c(v)})},t.findCloudById=(n,l=e.state.clouds)=>{if(!n)return;let s=l.find(a=>a.id===n);if(s)return s;for(let a=0;a<l.length;a+=1)if(Array.isArray(l[a].clouds)&&(s=t.findCloudById(n,l[a].clouds),s))return s},t.findCloudByElement=n=>{const l=tt(n);if(!!l)return t.findCloudById(l.dataset.cloudId)},t.queryCloudElementById=n=>e.vm.subTree.el.querySelector(`[data-cloud-id="${n}"]`);const o=n=>{if(!n)return null;const[l]=e.runtime.targetClouds;if(!l||!t.isCloudsObject(l)||Ct(n))return null;const s=$t(n.target);if(!s)return null;const a=t.findCloudById(s.dataset.cloudId,l.clouds);return(a==null?void 0:a.pid)?a:null};return t.setSelectCloud=n=>{var a,r,i,c,u,p,h,C,b,g,_;const l=o(n),s=e.runtime.selectCloud;s!==l&&(e.runtime.selectCloud=l,(a=e.vm.ctx.$el.querySelector(".sky-cloud-select"))==null||a.classList.remove("sky-cloud-select"),s&&((p=(u=(c=(i=(r=e.cloudVM[s.id])==null?void 0:r.exposed)==null?void 0:i.skyHooks)==null?void 0:c.moveable)==null?void 0:u.onLeaveSelect)==null||p.call(u)),l&&((h=e.cloud.queryCloudElementById(l.id))==null||h.classList.add("sky-cloud-select"),(_=(g=(b=(C=e.cloudVM[l.id].exposed)==null?void 0:C.skyHooks)==null?void 0:b.moveable)==null?void 0:g.onEnterSelect)==null||_.call(g)))},t.create=n=>{var l,s;return n=JSON.parse(JSON.stringify(n)),Object.assign({pid:"",width:100,height:100,top:e.state.height/2-((l=n==null?void 0:n.height)!=null?l:0/2),left:e.state.width/2-((s=n==null?void 0:n.width)!=null?s:0/2),angle:0,lock:!1,opacity:1,transform:""},n,{id:Le()})},t.push=async(...n)=>{e.state.clouds.push(...n),await Al(),await e.moveable.setTarget(n.map(l=>e.cloud.queryCloudElementById(l.id)))},t.lock=()=>{e.runtime.targetClouds.length!==0&&(e.runtime.targetClouds.forEach(n=>{n.lock=!0}),e.moveable.updateState())},t.unlock=()=>{e.runtime.targetClouds.length!==0&&(e.runtime.targetClouds.forEach(n=>{n.lock=!1}),e.moveable.updateState())},t.delete=async({force:n=!1}={})=>{if(e.runtime.targetClouds.length===0)return;const[l]=e.runtime.targetClouds;if(l.lock&&!n)return;const s=e.runtime.targetClouds.map(a=>a.id);await e.moveable.setTarget([]),s.forEach(a=>{const r=e.state.clouds.findIndex(i=>i.id===a);e.state.clouds.splice(r,1)})},t.copy=()=>{if(e.runtime.targetClouds.length!==0)return e.runtime.clipboard=JSON.stringify(e.runtime.targetClouds),e.runtime.clipboard},t.paste=async()=>{if(!e.runtime.clipboard)return;const n=i=>{var c;(c=i.clouds)==null||c.forEach(u=>{u.pid=i.id,u.id=Le(),t.isCloudsObject(u)&&n(u)})},l=JSON.parse(e.runtime.clipboard),s={top:Math.min(...l.map(i=>i.top)),left:Math.min(...l.map(i=>i.left))},a=e.runtime.targetClouds.length>0?e.moveable.instance.getRect():s,r={top:a.top-s.top,left:a.left-s.left};l.forEach(i=>{i.id=Le(),i.top+=r.top+10,i.left+=r.left+10,t.isCloudsObject(i)&&n(i)}),await t.push(...l),t.copy()},t.cut=()=>{!t.copy()||t.delete()},t.toGroup=async()=>{const{top:n,left:l,width:s,height:a}=e.moveable.instance.getRect(),r=[...e.runtime.targetClouds],i=Le();t.delete({force:!0}),r.forEach(c=>{c.pid=i,c.top=c.top-n,c.left=c.left-l}),await t.push({id:i,top:n,left:l,width:s,height:a,clouds:r,pid:"",type:"clouds",lock:!1,transform:""})},t.unGroup=async()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const{clouds:l,top:s,left:a}=n[0];!l||(t.delete({force:!0}),l.forEach(r=>{r.pid="",r.top=r.top+s,r.left=r.left+a}),t.push(...l))},t.moveTop=()=>{const{clouds:n}=e.state,{targetClouds:l}=e.runtime;n.push(...l),l.forEach(s=>{const a=n.findIndex(r=>r.id===s.id);n.splice(a,1)})},t.moveUp=()=>{const{clouds:n}=e.state,{targetClouds:l}=e.runtime,[s]=l.slice(-1),a=t.getOverlappingClouds4Cloud(),r=a.findIndex(u=>u.id===s.id);let i;r+1>=a.length?i=s:i=a[r+1];const c=n.findIndex(u=>u.id===i.id);n.splice(c+1,0,...l),l.forEach(u=>{const p=n.findIndex(h=>h.id===u.id);n.splice(p,1)})},t.moveDown=()=>{const{clouds:n}=e.state,{targetClouds:l}=e.runtime,[s]=l,a=t.getOverlappingClouds4Cloud(),r=a.findIndex(u=>u.id===s.id);let i;r===0?i=s:i=a[r-1];const c=n.findIndex(u=>u.id===i.id);l.forEach(u=>{const p=n.findIndex(h=>h.id===u.id);n.splice(p,1)}),n.splice(c,0,...l)},t.moveBottom=()=>{const{clouds:n}=e.state,{targetClouds:l}=e.runtime;l.reverse().forEach(s=>{const a=n.findIndex(r=>r.id===s.id);n.splice(a,1)}),n.unshift(...l.reverse())},t.isCloudsObject=n=>n.type==="clouds"&&Reflect.has(n,"clouds"),t.alignTop=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.min(...n.map(s=>s.top));n.forEach(s=>{s.top=l}),e.cloud.updateCloudsElementRect()},t.alignVerticalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.min(...n.map(r=>r.top)),s=Math.max(...n.map(r=>r.top+r.height)),a=l+(s-l)/2;n.forEach(r=>{r.top=a-r.height/2}),e.cloud.updateCloudsElementRect()},t.alignBottom=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.max(...n.map(s=>s.top+s.height));n.forEach(s=>{s.top=l-s.height}),e.cloud.updateCloudsElementRect()},t.alignHorizontalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.min(...n.map(r=>r.left)),s=Math.max(...n.map(r=>r.left+r.width)),a=l+(s-l)/2;n.forEach(r=>{r.left=a-r.width/2}),e.cloud.updateCloudsElementRect()},t.alignLeft=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.min(...n.map(s=>s.left));n.forEach(s=>{s.left=l}),e.cloud.updateCloudsElementRect()},t.alignRight=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const l=Math.max(...n.map(s=>s.left+s.width));n.forEach(s=>{s.left=l-s.width}),e.cloud.updateCloudsElementRect()},t.alignEditorTop=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(l=>{l.top=0}),e.cloud.updateCloudsElementRect())},t.alignEditorVerticalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const l=e.state.height/2;n.forEach(s=>{s.top=l-s.height/2}),e.cloud.updateCloudsElementRect()},t.alignEditorBottom=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(l=>{l.top=e.state.height-l.height}),e.cloud.updateCloudsElementRect())},t.alignEditorLeft=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(l=>{l.left=0}),e.cloud.updateCloudsElementRect())},t.alignEditorHorizontalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const l=e.state.width/2;n.forEach(s=>{s.left=l-s.width/2}),e.cloud.updateCloudsElementRect()},t.alignEditorRight=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(l=>{l.left=e.state.width-l.width}),e.cloud.updateCloudsElementRect())},t}const fa=(e=0)=>new Promise(t=>setTimeout(t,e)),pa={"-1,-1":"nw","0,-1":"n","1,-1":"ne","1,0":"e","1,1":"se","0,1":"s","-1,1":"sw","-1,0":"w"},ha=["n","nw","ne","s","se","sw","e","w"],ma=e=>{const{top:t,left:o,width:n,height:l}=e,s=o+n,a=t+l;return{pos1:[o,t],pos2:[s,t],pos3:[o,a],pos4:[s,a]}};function ga(e){const t={};t.updateState=async()=>{var y,$,z,R,k;const{target:g}=t.instance;if(!Array.isArray(g)||g.length===0)return;const[_]=g,v=e.cloud.findCloudById(_.dataset.cloudId),m=v?!v.lock:!1;t.instance.draggable=m,t.instance.resizable=m,t.instance.rotatable=m,t.instance.origin=m,v?(g.length>1?t.instance.renderDirections=Js:t.instance.renderDirections=(k=(R=(z=($=(y=e.birdVM[_.dataset.cloudId])==null?void 0:y.exposed)==null?void 0:$.skyHooks)==null?void 0:z.moveable)==null?void 0:R.renderDirections)!=null?k:ha,t.instance.passDragArea=!m):t.instance.passDragArea=!0;const f=[];(v==null?void 0:v.lock)&&f.push("lock"),t.instance.className=f.join(" ")},t.getTarget=g=>{const{target:_}=t.instance;if(!Array.isArray(_))return[];let v=[..._];const m=et(g.target);let f=null;if(m)f=g.target;else if(f=tt(g.target),!f)return[];if(Ct(g)){if(m)return _;if(et(_[0])&&f)return[f];const y=e.cloud.findCloudByElement(g.target);if(!y)return[];if(y.lock||e.runtime.targetClouds[0].lock)return _;const $=v.findIndex(z=>z===f);$<0?v.push(f):v.splice($,1)}else v=[f];return v},t.setTarget=async g=>{const _=t.instance.target;if(g){if(!Array.isArray(_)||Dl(g,_))return;t.instance.target=g,await fa();const v=g.map(y=>e.cloud.findCloudById(y.dataset.cloudId));e.runtime.targetClouds=e.state.clouds.filter(y=>v.includes(y)),e.cloud.setSelectCloud(null),xt(_,g).forEach(y=>{var z,R,k,E;const $=e.birdVM[y.dataset.cloudId];(E=(k=(R=(z=$==null?void 0:$.exposed)==null?void 0:z.skyHooks)==null?void 0:R.moveable)==null?void 0:k.onLeaveTarget)==null||E.call(k)}),xt(g,_).forEach(y=>{var z,R,k,E;const $=e.birdVM[y.dataset.cloudId];(E=(k=(R=(z=$==null?void 0:$.exposed)==null?void 0:z.skyHooks)==null?void 0:R.moveable)==null?void 0:k.onEnterTarget)==null||E.call(k)}),e.state.clouds.forEach(y=>{var z,R,k,E;const $=e.birdVM[y.id];(E=(k=(R=(z=$==null?void 0:$.exposed)==null?void 0:z.skyHooks)==null?void 0:R.moveable)==null?void 0:k.onChangeTarget)==null||E.call(k)})}else{if(t.instance.target=[],!Array.isArray(_))return;_.forEach(v=>{var f,y,$,z;const m=e.birdVM[v.dataset.cloudId];(z=($=(y=(f=m==null?void 0:m.exposed)==null?void 0:f.skyHooks)==null?void 0:y.moveable)==null?void 0:$.onLeaveTarget)==null||z.call($)})}t.updateState()};const o=()=>{const{target:g}=t.instance;if(!Array.isArray(g))return;const _=t.instance.getRect(),v={pos1:_.pos1,pos2:_.pos2,pos3:_.pos3,pos4:_.pos4},m=[];e.state.clouds.forEach(f=>{if(g.findIndex(k=>k.dataset.cloudId===f.id)>=0)return;const $=ma(f),z=[];Object.values(v).forEach(k=>{Object.values($).forEach(E=>{const B=Math.abs(k[0]-E[0]),G=Math.abs(k[1]-E[1]);z.push(Math.sqrt(B*B+G*G))})});const R=Math.min(...z);St(f,"minDistance")?f.minDistance=R:Object.defineProperty(f,"minDistance",{value:R,writable:!0}),m.push(f)}),m.sort((f,y)=>f.minDistance-y.minDistance),t.instance.elementGuidelines=m.slice(0,5).map(f=>e.cloud.queryCloudElementById(f.id))},n=g=>{const{target:_,top:v,left:m}=g;_.style.top=Y(v),_.style.left=Y(m);const f=e.state.clouds.find(y=>y.id===_.dataset.cloudId);f.top=v,f.left=m,o()},l=g=>{g.events.forEach(n)},s=g=>{var y,$,z,R,k,E,B,G,q,U;const{target:_,datas:v,direction:m}=g,f=e.cloud.findCloudById(_.dataset.cloudId);!f||(v.targetCloud=f,v.startTop=f.top,v.startLeft=f.left,v.startWidth=f.width,v.startHeight=f.height,v.isClouds=e.cloud.isCloudsObject(f),v.birdVM=e.birdVM[f.id],t.instance.keepRatio=(k=(R=(z=($=(y=v.birdVM)==null?void 0:y.exposed)==null?void 0:$.skyHooks)==null?void 0:z.moveable)==null?void 0:R.keepRatio)==null?void 0:k.includes(Reflect.get(pa,m.join())),(U=(q=(G=(B=(E=v.birdVM)==null?void 0:E.exposed)==null?void 0:B.skyHooks)==null?void 0:G.moveable)==null?void 0:q.onResizeStart)==null||U.call(q,g))},a=g=>{var $,z,R,k,E;const{target:_,width:v,height:m,drag:f,datas:y}=g;y.scale=[v/y.startWidth,m/y.startHeight],_.style.width=Y(v),_.style.height=Y(m),y.targetCloud.width=v,y.targetCloud.height=m,y.isClouds&&(_.firstElementChild.style.transform=`scale(${y.scale[0]}, ${y.scale[1]})`,_.firstElementChild.style.transformOrigin="left top"),(E=(k=(R=(z=($=y.birdVM)==null?void 0:$.exposed)==null?void 0:z.skyHooks)==null?void 0:R.moveable)==null?void 0:k.onResize)==null||E.call(k,g),n(f)},r=g=>{var f,y,$,z,R;const{target:_,datas:v}=g,m=k=>{k.forEach(E=>{var G,q,U;E.top=E.top*v.scale[1],E.left=E.left*v.scale[0],E.width=E.width*v.scale[0],E.height=E.height*v.scale[1];const B=e.cloud.queryCloudElementById(E.id);if(!!B)if(B.style.top=Y(E.top),B.style.left=Y(E.left),B.style.width=Y(E.width),B.style.height=Y(E.height),E.clouds)m(E.clouds);else{const K=e.birdVM[E.id];(U=(q=(G=K==null?void 0:K.exposed)==null?void 0:G.moveable)==null?void 0:q.onResizeEndInGroup)==null||U.call(q,g)}})};v.isClouds&&(_.firstElementChild.style.transform="",_.firstElementChild.style.transformOrigin="",m(v.targetCloud.clouds)),(R=(z=($=(y=(f=v.birdVM)==null?void 0:f.exposed)==null?void 0:y.skyHooks)==null?void 0:$.moveable)==null?void 0:z.onResizeEnd)==null||R.call(z,g)},i=g=>{g.events.forEach(s),e.moveable.instance.keepRatio=!0},c=g=>{g.events.forEach(a)},u=g=>{const{target:_,drag:v,absoluteRotate:m}=g;_.style.transform=v.transform;const f=e.state.clouds.find(y=>y.id===_.dataset.cloudId);!f||(f.transform=v.transform,f.rotate=m)},p=g=>{g.events.forEach(u)},h=()=>{e.history.disable=!0},C=g=>{e.history.disable=!1,!!g.isDrag&&e.history.unshift()},b=g=>{var m,f,y,$;const _=t.getTarget(g.inputEvent);t.setTarget(_),e.cloud.setSelectCloud(g.inputEvent);const v=e.birdVM[g.target.dataset.cloudId];($=(y=(f=(m=v==null?void 0:v.exposed)==null?void 0:m.skyHooks)==null?void 0:f.moveable)==null?void 0:y.onClick)==null||$.call(y,g.inputEvent)};return t.createInstance=g=>{window.moveableInstance=t.instance=new sn(g,{target:[],snappable:!0,snapCenter:!0,dragArea:!0,horizontalGuidelines:[0,g.offsetWidth],verticalGuidelines:[0,g.offsetHeight]}),t.instance.on("drag",n),t.instance.on("dragGroup",l),t.instance.on("resizeStart",s),t.instance.on("resize",a),t.instance.on("resizeEnd",r),t.instance.on("resizeGroupStart",i),t.instance.on("resizeGroup",c),t.instance.on("rotate",u),t.instance.on("rotateGroup",p),t.instance.on("renderStart",h),t.instance.on("renderEnd",C),t.instance.on("renderGroupStart",h),t.instance.on("renderGroupEnd",C),t.instance.on("click",b),t.instance.on("clickGroup",b),t.updateState()},t}function va(e){const t={instance:null};let o=!1;const n=async()=>{o=!0,await e.moveable.setTarget([])},l=async()=>{o||await e.moveable.setTarget([]),o=!1},s=i=>{const c=document.querySelector(".moveable-control-box"),u=document.querySelector(".sky-control-panel");if((c==null?void 0:c.contains(i.inputEvent.target))||(u==null?void 0:u.contains(i.inputEvent.target)))return i.stop();document.addEventListener("mousemove",n,{once:!0}),document.addEventListener("mouseup",l,{once:!0})},a=async i=>{await e.moveable.setTarget([...i.selected])},r=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mousemove",l)};return t.createInstance=i=>{t.instance=new an({container:i,selectableTargets:[".sky-cloud"],selectByClick:!1,selectFromInside:!1,hitRate:0,getElementRect:rn}),t.instance.on("dragStart",s),t.instance.on("select",a),t.instance.on("selectEnd",r)},new Proxy(t,{get(i,c){return Reflect.has(i,c)?Reflect.get(i,c):Reflect.get(t.instance,c)},set(i,c,u){return Reflect.has(i,c)?Reflect.set(i,c,u):Reflect.set(i.instance,c,u),!0}})}let Rt;function _a(e){const t={stacks:[],pointer:0,disable:!1,delay:500},o=n=>{t.pointer=n;const l=JSON.parse(t.stacks[n]);!l||(t.disable=!0,e.state.scale=l.scale,e.state.clouds=l.clouds,e.editor.setBackground(l.background),setTimeout(async()=>{const s=l.targetClouds.map(a=>e.cloud.queryCloudElementById(a.id));await e.moveable.setTarget(s),e.cloud.updateCloudsElementRect(l.clouds),e.moveable.instance.updateRect(),t.disable=!1}))};return t.unshift=()=>{t.disable||(clearTimeout(Rt),Rt=setTimeout(()=>{t.pointer>0&&t.stacks.splice(0,t.pointer),t.stacks.unshift(JSON.stringify(e.state)),t.pointer>0&&(t.pointer=0);const{maxHistoryStack:n}=e.options;n&&t.stacks.length>n&&t.stacks.pop()},t.delay))},t.back=()=>{const n=t.pointer+1;n>=t.stacks.length||o(n)},t.forward=()=>{const n=t.pointer-1;n<0||o(n)},t}function ya(e){var o;e=fe({maxHistoryStack:20},e);const t={options:e,vm:null,cloudVM:{},birdVM:{}};return t.state={width:800,height:800,scale:1,background:{color:"#ffffff00",opacity:1},clouds:[]},t.runtime={targetClouds:[],selectCloud:null,clipboard:""},t.editor=ua(t),t.cloud=da(t),t.moveable=ga(t),t.selecto=va(t),t.history=_a(t),t.setState=async n=>{Reflect.has(n,"width")&&(t.moveable.instance.verticalGuidelines=[0,n.width]),Reflect.has(n,"height")&&(t.moveable.instance.horizontalGuidelines=[0,n.height]),Reflect.has(n,"scale")&&t.editor.zoom(n.scale),Reflect.has(n,"clouds")&&await t.moveable.setTarget([]),Object.assign(t.state,n)},(o=e.initMousetrap)==null||o.call(e,t),t}const ba={install(e,t,o){t.state=Re(t.state),t.runtime=Re(t.runtime),e.config.globalProperties.$sky=t,e.use(ca,o.components),e.component(Et.name,Et),o.ControlPanelContainer&&e.component(o.ControlPanelContainer.name,o.ControlPanelContainer),e.provide("sky",t)}},oe=navigator.userAgent.indexOf("Mac")>=0,Tt="SKY_DATA",wa=()=>{const e=localStorage.getItem(Tt);if(!!e)return JSON.parse(e)},Bt=e=>{localStorage.setItem(Tt,JSON.stringify(e))};function Sa(e){j.bind("up",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:-1},!0)}),j.bind("shift+up",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:-10},!0)}),j.bind(`${oe?"command":"ctrl"}+up`,t=>{t.preventDefault(),e.cloud.moveUp()}),j.bind(`${oe?"command":"ctrl"}+shift+up`,t=>{t.preventDefault(),e.cloud.moveTop()}),j.bind("right",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:1},!0)}),j.bind("shift+right",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:10},!0)}),j.bind(`${oe?"command":"ctrl"}+right`,t=>{t.preventDefault()}),j.bind("down",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:1},!0)}),j.bind("shift+down",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:10},!0)}),j.bind(`${oe?"command":"ctrl"}+down`,t=>{t.preventDefault(),e.cloud.moveDown()}),j.bind(`${oe?"command":"ctrl"}+shift+down`,t=>{t.preventDefault(),e.cloud.moveBottom()}),j.bind("left",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:-1},!0)}),j.bind("shift+left",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:-10},!0)}),j.bind(`${oe?"command":"ctrl"}+left`,t=>{t.preventDefault()}),j.bind(["backspace","del"],t=>{t.preventDefault(),e.cloud.delete()}),j.bind(`${oe?"command":"ctrl"}+c`,t=>{t.preventDefault(),e.cloud.copy()}),j.bind(`${oe?"command":"ctrl"}+v`,t=>{t.preventDefault(),e.cloud.paste()}),j.bind(`${oe?"command":"ctrl"}+x`,t=>{t.preventDefault(),e.cloud.cut()}),j.bind(`${oe?"command":"ctrl"}+z`,t=>{t.preventDefault(),e.history.back()}),j.bind(`${oe?"command":"ctrl"}+shift+z`,t=>{t.preventDefault(),e.history.forward()}),j.bind(`${oe?"command":"ctrl"}+s`,t=>{t.preventDefault(),Bt(e.state)}),j.bind(`${oe?"command":"ctrl"}+a`,async t=>{t.preventDefault();const o=document.querySelector(".sky-editor__app .sky-renderer");if(!o)return;const n=Array.from(o.children).filter(l=>l.dataset.cloudId);await e.moveable.setTarget(n)})}const Be=ya({initMousetrap:Sa});window.sky=Be;var xa={install(e){e.use(ba,Be,{ControlPanelContainer:Ns,components:{[ie.text]:nl,[ie.image]:ul}})}};async function Ca(e){return await window.PSD.fromURL(e)}function ka(e){const[t,o,n]=e;let[,,,l]=e;return l>1&&(l=l/255),[t,o,n,l]}function $a(e){const[t,o,n,l]=e;return[l*255,n*255,o*255,t]}const Ea={InsF:"inner",CtrF:"center",OutF:"outer"};function Ia({xx:e,xy:t}){const o=Math.sqrt(e*e+t*t),n=Math.asin(t/o)*180/Math.PI;return{scale:o,angle:n}}function Ma({xx:e,xy:t,yx:o,yy:n,tx:l,ty:s}){return{a:e,b:t,c:o,d:n,tx:l,ty:s}}function za(e,t){const{objectEffects:o,typeTool:n}=t.adjustments,{StyleRun:l}=n.engineData.EngineDict;let s=0;const a=l.RunArray.map((u,p)=>{const h=l.RunLengthArray[p],C={text:e.text.value.substr(s,h),fontSize:u.StyleSheet.StyleSheetData.FontSize},{FillColor:b}=u.StyleSheet.StyleSheetData;return b&&(C.color=He(...$a(b.Values))),s+=h,C}),r=[],i=[];if(o){const{FrFX:u,DrSh:p}=o.data;u&&r.push({type:Reflect.get(Ea,u.Styl.value),width:u["Sz  "].value,color:[u["Clr "]["Rd  "],u["Clr "]["Grn "],u["Clr "]["Bl  "],u.Opct.value/100]}),p&&i.push({color:[p["Clr "]["Rd  "],p["Clr "]["Grn "],p["Clr "]["Bl  "],p.Opct.value/100],distance:p.Dstn.value,blur:p.blur.value,angle:p.lagl.value})}const{angle:c}=Ia(n.transform);return{type:ie.text,width:e.width,height:e.height,top:e.top,left:e.left,text:e.text.value,opacity:e.opacity,textAlign:e.text.font.alignment[0],fontFamily:n.fonts()[0].slice(1).replace("\0",""),fontSize:e.text.font.sizes[0],color:He(...ka(e.text.font.colors[0])),textDecoration:l.RunArray[0].StyleSheet.StyleSheetData.Underline?"underline":"",writingMode:n.obj.textData.Ornt.value==="Hrzn"?de.h:de.v,fontWeight:"",fontStyle:"",texts:a,strokes:r,shadows:i,angle:c,transform:Ma(n.transform)}}function Ot(e,t){return{src:t.image.toBase64(),type:ie.image,width:e.width,height:e.height,top:e.top,left:e.left,opacity:e.opacity}}function Ra(e,t){return t.typeTool?za(e,t):Ot(e,t)}async function Ta(e){const{children:t,document:o}=e.tree().export(),n=i=>e.layers.find(c=>c.name===i.name&&c.top===i.top&&c.right===i.right&&c.bottom===i.bottom&&c.left===i.left&&c.width===i.width&&c.height===i.height),l={color:"#ffffff00",image:"",opacity:1},[s]=t.slice(-1);if(["Background","background","\u80CC\u666F"].includes(s.name)){const i=n(s),c=Ot(s,i);l.opacity=c.opacity,l.image=c.src,t.pop()}const a={background:l,width:o.width,height:o.height,clouds:[]},r=i=>{i.forEach(c=>{if(c.type==="group"&&Array.isArray(c.children))return r(c.children);const u=n(c);if(!u)return;const p=Ra(c,u);a.clouds.unshift(p)})};return r(t),a}async function Ba(e){const t=URL.createObjectURL(e),o=await Ca(t);return URL.revokeObjectURL(t),Ta(o)}const Oa=(e,t)=>{const{clientWidth:o,clientHeight:n}=document.querySelector(".app-main");let l=o,s=e;const a=e/o;t/n>a&&(l=n,s=t);let i=l/(s+40);return i=Math.floor(i/5*100),i=i*5/100,i};function nt(e){return e.replace(/\n+/g,"").replace(/\/\*.+?\*\//g,"")}const Aa=nt(mt)+nt(vt)+nt(gt);function At(){const e=[];return Be.state.clouds.filter(o=>o.type===ie.text).forEach(o=>{o.fontFamily&&!e.includes(o.fontFamily)&&e.push(o.fontFamily),o.texts.forEach(n=>{n.fontFamily&&!e.includes(n.fontFamily)&&e.push(n.fontFamily)})}),e}function Ha(){let e="";const t=Pe();return At().forEach(n=>{e+=bt(n,t.download[n]).outerHTML}),e}function Da(e){const t=[];return Be.state.clouds.filter(l=>l.type===ie.image&&!l.src.startsWith("data")).forEach(l=>{const s=e.querySelector(`[data-cloud-id="${l.id}"] img.image__content`);t.push(n(s))}),Promise.all(t);async function n(l){const{src:s}=l,a=await Va(s);l.src=a}}async function Pa(e){const t=e.cloneNode(!0);await Da(t);const n=new XMLSerializer().serializeToString(t);return`
    <svg
      xmlns='http://www.w3.org/2000/svg'
      width='${e.clientWidth}'
      height='${e.clientHeight}'
    >
      <style>
        ${Aa}
      </style>
      ${Ha()}
      <foreignObject
        x='0'
        y='0'
        width='100%'
        height='100%'
      >
        ${n}
      </foreignObject>
    </svg>
  `}function La(e){return new Promise(t=>{const o=document.querySelector(".sky-renderer"),n=document.createElement("canvas");n.width=o.clientWidth,n.height=o.clientHeight;const l=n.getContext("2d"),s=new Image;s.onload=()=>{l.drawImage(s,0,0),n.toBlob(a=>{t(a),s.remove(),n.remove()})},s.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`})}async function Va(e){const o=await(await fetch(e)).blob();return await Ye(o)}function ja(e={}){const{scale:t}=Be.state;return fe({fontFamily:ht,fontSize:60,textAlign:"left",color:"#000000ff",textDecoration:"none",writingMode:de.h,fontWeight:400,fontStyle:"normal",lineHeight:1,letterSpacing:0,shadows:[],strokes:[],text:"\u70B9\u51FB\u7F16\u8F91\u6587\u5B57",texts:[{text:"\u70B9\u51FB\u7F16\u8F91\u6587\u5B57"}],type:ie.text,width:360*t,height:60*t},e)}var Fa="/sky/assets/logo.03d6d6da.png";function Na(e={}){return fe({src:Fa,type:ie.image},e)}const Ga={class:"app-header"},qa=Q("PSD"),Ua=Q("viewport-"),Wa=Q("viewport+"),Ka=Q("Adaptive"),Ya=Q("Save"),Ja=Q("Add Text"),Xa=Q("Add Image"),Qa=Q("Generate Image"),Za={setup(e){const t=ee("sky"),o=Pe();async function n(b){const g=await Ba(b),_=g.clouds.map(v=>t.cloud.create(v));_.filter(v=>v.type===ie.text).forEach(v=>{o.list.find(f=>f.name===v.fontFamily)||(v.fontFamily=ht)}),t.setState(Fe(fe({},g),{clouds:_,scale:1})),await ye(),a()}async function l(){const g=await(await fetch("odyssey-demo.psd")).blob(),_=new File([g],"odyssey-demo.psd");await n(_)}async function s(b){await n(b.target.files[0])}function a(){t.setState({scale:Oa(t.state.width/t.state.scale,t.state.height/t.state.scale)})}function r(){t.setState({scale:(Math.round(t.state.scale*100)-5)/100})}function i(){t.setState({scale:1})}function c(){t.setState({scale:(Math.round(t.state.scale*100)+5)/100})}function u(){Bt(t.state)}function p(){t.cloud.push(t.cloud.create(ja()))}function h(){t.cloud.push(t.cloud.create(Na()))}async function C(){console.time("handleGenerateImage");const b=await Pa(t.vm.subTree.el.querySelector(".sky-renderer")),g=await La(b);console.timeEnd("handleGenerateImage");const _=URL.createObjectURL(g);window.open(_),URL.revokeObjectURL(_)}return(b,g)=>{const _=T("SkyButton");return x(),I("div",Ga,[w("input",{type:"file",onChange:s},null,32),d(_,{onClick:l},{default:M(()=>[qa]),_:1}),d(_,{onClick:r},{default:M(()=>[Ua]),_:1}),d(_,{onClick:i},{default:M(()=>[Q(pe(S(t).state.scale),1)]),_:1}),d(_,{onClick:c},{default:M(()=>[Wa]),_:1}),d(_,{onClick:a},{default:M(()=>[Ka]),_:1}),d(_,{onClick:u},{default:M(()=>[Ya]),_:1}),d(_,{onClick:p},{default:M(()=>[Ja]),_:1}),d(_,{onClick:h},{default:M(()=>[Xa]),_:1}),d(_,{onClick:C},{default:M(()=>[Qa]),_:1})])}}};var ei=F(Za,[["__scopeId","data-v-6368672a"]]);const ti={name:"AsideCategory"},ni={class:"aside-category"};function oi(e,t,o,n,l,s){return x(),I("div",ni)}var li=F(ti,[["render",oi],["__scopeId","data-v-79ac52e0"]]);const si={setup(e){const t=ee("sky"),o=A(null),n=D(()=>({width:`${t.state.width}px`,height:`${t.state.height}px`}));return ue(()=>{t.selecto.createInstance(o.value)}),(l,s)=>{const a=T("sky-editor");return x(),I("div",{ref:(r,i)=>{i.elRoot=r,o.value=r},class:"app-main"},[w("div",{class:"sky-editor-container",style:L(S(n))},[d(a,{class:"sky-editor__app"})],4)],512)}}};var ai=F(si,[["__scopeId","data-v-08243271"]]);const ii={setup(e){const t=Pe(),o=t.fetch();return ue(async()=>{const n=wa();n&&sky.setState(n),await o,At().forEach(s=>{const a=t.list.find(r=>r.name===s);t.addFont2Style(s,a.content.woff)})}),(n,l)=>(x(),I(X,null,[d(ei),d(li),d(ai)],64))}},we=cn(ii);window.app=we;console.log("app",we);we.use(xa);we.use(jo);we.use(un());we.component(pt.name,pt);const ri=we.mount("#app");console.log("vm",ri);
