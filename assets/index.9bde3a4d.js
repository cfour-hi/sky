var Rt=Object.defineProperty,Tt=Object.defineProperties;var Bt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable;var tt=(e,t,l)=>t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,de=(e,t)=>{for(var l in t||(t={}))Ot.call(t,l)&&tt(e,l,t[l]);if(et)for(var l of et(t))Ht.call(t,l)&&tt(e,l,t[l]);return e},Pe=(e,t)=>Tt(e,Bt(t));import{c as A,o as S,a as E,r as ae,m as ee,u as w,b as At,d as nt,e as H,f as b,g as pe,n as U,h as he,i as R,j as d,p as Pt,w as z,k as xe,l as Ce,q as ke,s as te,t as re,v as $e,x as ce,y as ie,z as De,A as X,F as J,B as se,C as _e,D as ye,E as V,G as Te,T as Dt,H as Lt,O as Vt,I as jt,J as Nt,K as Ft,L as Gt,M as qt,N as Z,P as Ut,Q as ot,R as Wt,S as Kt,U as Yt,V as Xt,W as N,X as Jt,Y as Qt}from"./vendor.82f7dee9.js";const Zt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=l(o);fetch(o.href,s)}};Zt();if(typeof window!="undefined"){let e=function(){let t=document.body,l=document.getElementById("__svg__icons__dom__1635583717080__");l||(l=document.createElementNS("http://www.w3.org/2000/svg","svg"),l.style.position="absolute",l.style.width="0",l.style.height="0",l.id="__svg__icons__dom__1635583717080__"),l.innerHTML='<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-bottom"><rect x="3.333" y="16.666" width="1.667" height="13.333" rx=".833" transform="rotate(-90 3.333 16.666)" fill="#636C78" /><path d="M7.5 3.611A1.11 1.11 0 0 1 8.611 2.5h2.778A1.11 1.11 0 0 1 12.5 3.611v8.611c0 .614-.498 1.111-1.111 1.111H8.61a1.111 1.111 0 0 1-1.111-1.11V3.61z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M8.944 3.944v7.945h2.112V3.944H8.944zM8.611 2.5A1.11 1.11 0 0 0 7.5 3.611v8.611a1.11 1.11 0 0 0 1.111 1.111h2.778a1.11 1.11 0 0 0 1.111-1.11V3.61c0-.614-.498-1.111-1.111-1.111H8.61z" fill="#000" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-center"><path d="M17.5 4.167h-15v1.666h15V4.167zM15 7.5H5v1.667h10V7.5zM2.5 10.833h15V12.5h-15v-1.667zM15 14.167H5v1.666h10v-1.666z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-horizontal-middle"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 3.333a.833.833 0 0 0-.833.834V7.5h1.666V4.167A.833.833 0 0 0 10 3.334zm.833 9.167H9.167v3.334a.833.833 0 0 0 1.666 0V12.5z" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15.367 8.8H4.633v2.4h10.734V8.8zm1.3-.3a1 1 0 0 0-1-1H4.333a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h11.334a1 1 0 0 0 1-1v-3z" fill="#000" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-justify"><path d="M17.5 4.167h-15v1.666h15V4.167zm0 3.333h-15v1.667h15V7.5zm-15 3.333h15V12.5h-15v-1.667zm11 3.334h-11v1.666h11v-1.666z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-left"><rect x="3.333" y="3.333" width="1.667" height="13.333" rx=".833" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M16.2 8.8H7.967v2.4H16.2V8.8zm1.3-.3a1 1 0 0 0-1-1H7.667a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1H16.5a1 1 0 0 0 1-1v-3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-right"><rect width="1.667" height="13.333" rx=".833" transform="matrix(-1 0 0 1 16.667 3.333)" fill="#636C78" /><path d="M3.5 7.5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h8.833a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3.5z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M3.8 8.8h8.233v2.4H3.8V8.8zm-1.3-.3a1 1 0 0 1 1-1h8.833a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1v-3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-top"><rect x="16.667" y="3.333" width="1.667" height="13.333" rx=".833" transform="rotate(90 16.667 3.333)" fill="#636C78" /><path d="M12.5 16.5a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V7.667a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1V16.5z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2 16.2V7.967H8.8V16.2h2.4zm.3 1.3a1 1 0 0 0 1-1V7.667a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1V16.5a1 1 0 0 0 1 1h3z" fill="#000" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__align-vertical-middle"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.667 10a.833.833 0 0 0-.834-.834H12.5v1.667h3.333c.46 0 .834-.373.834-.833zm-9.167.833V9.166H4.167a.833.833 0 0 0 0 1.667H7.5z" fill="#636C78" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2 15.367V4.633H8.8v10.733h2.4zm.3 1.3a1 1 0 0 0 1-1V4.332a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v11.334a1 1 0 0 0 1 1h3z" fill="#000" /></symbol><symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-down--line"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.94 5.727 8 8.78l3.06-3.053.94.94-4 4-4-4 .94-.94z" /></symbol><symbol fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-left"><path clip-rule="evenodd" d="m4.667 8 5.402-5.337.936.949L6.564 8l4.441 4.388-.937.949L4.668 8z" /></symbol><symbol viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg" id="svg-icon__arrow-up"><path fill-rule="evenodd" clip-rule="evenodd" d="M.854 3.146A.5.5 0 0 0 1.207 4h5.586a.5.5 0 0 0 .353-.854L4.354.354a.5.5 0 0 0-.708 0L.854 3.146z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__bold"><path d="M6.375 13.125V9.75h3.563c.93 0 1.687.757 1.687 1.688a1.69 1.69 0 0 1-1.688 1.687H6.376zm0-8.25h3c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5h-3v-3zm6.375 1.5A3.375 3.375 0 0 0 9.375 3H4.5v12h5.438a3.562 3.562 0 0 0 3.562-3.563c0-1.212-.609-2.28-1.534-2.923a3.347 3.347 0 0 0 .784-2.139z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__copy"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.375 4.5h8.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-8.25a.75.75 0 0 1-.75-.75V5.25a.75.75 0 0 1 .75-.75zm.75 1.5v9h6.75V6h-6.75zm4.5-3h-7.5v9.75h-1.5V2.25a.75.75 0 0 1 .75-.75h8.25V3z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__deleteline"><path d="M3.75 4.875V3h10.5v1.875H9.937V7.5H15V9H3V7.5h5.063V4.875H3.75zM9.938 15H8.063v-4.5h1.875V15z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__italic"><path d="M7.5 3v1.5h1.665l-2.25 9H5.25V15h5.25v-1.5H8.843l2.251-9h1.657V3H7.5z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer-down"><g mask="url(#hda)"><path fill-rule="evenodd" clip-rule="evenodd" d="m15.071 10.568 2.775-1.942a.416.416 0 0 0 0-.683l-7.607-5.325a.417.417 0 0 0-.478 0L2.154 7.943a.417.417 0 0 0 0 .683l2.775 1.942 1.385-1.065-1.74-1.219L10 4.486l5.428 3.798-1.741 1.219 1.384 1.065z" fill="#636C78" /><path d="M10.833 15H9.167V8.333a.833.833 0 1 1 1.666 0V15z" fill="#33383E" /><path fill-rule="evenodd" clip-rule="evenodd" d="m10 14.655-2.327-2.328a.833.833 0 1 0-1.179 1.179l2.77 2.77a1.042 1.042 0 0 0 1.473 0l2.769-2.77a.833.833 0 1 0-1.179-1.179L10 14.655z" fill="#33383E" /></g></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer-up"><g mask="url(#hfa)"><path fill-rule="evenodd" clip-rule="evenodd" d="m4.929 9.432-2.775 1.942a.417.417 0 0 0 0 .683l7.607 5.325c.143.1.334.1.478 0l7.607-5.325a.415.415 0 0 0 0-.683L15.07 9.432l-1.384 1.065 1.74 1.219L10 15.514l-5.428-3.798 1.741-1.219L4.93 9.432z" fill="#636C78" /><path d="M9.167 5h1.666v6.667a.833.833 0 0 1-1.666 0V5z" fill="#33383E" /><path fill-rule="evenodd" clip-rule="evenodd" d="m10 5.345 2.327 2.328a.833.833 0 1 0 1.179-1.179l-2.77-2.77a1.042 1.042 0 0 0-1.473 0l-2.769 2.77a.833.833 0 1 0 1.179 1.179L10 5.345z" fill="#33383E" /></g></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__layer"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 1.667 2.33 5.885a.417.417 0 0 0 0 .73L10 10.833l7.67-4.218a.417.417 0 0 0 0-.73L10 1.667zm4.875 4.583L10 3.57 5.125 6.25 10 8.931l4.875-2.68z" /><path d="M17.5 8.674 10 12.799 2.5 8.674v1.902l7.5 4.125 7.5-4.125V8.674z" /><path d="M17.5 12.424 10 16.55l-7.5-4.125v1.902l7.5 4.125 7.5-4.125v-1.902z" /></symbol><symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="svg-icon__locked"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 11v8h12v-8H6zM5 9a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1H5z" fill="#F54531" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15 9V7a3 3 0 0 0-6 0v2h6zm-3-7a5 5 0 0 0-5 5v3.95c0 .027.023.05.05.05h9.9a.05.05 0 0 0 .05-.05V7a5 5 0 0 0-5-5z" fill="#F54531" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__spacing"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 16.667h1.667V3.333H2.5v13.334zm13.333 0H17.5V3.333h-1.667v13.334zM10 6.75l-1.708 4.083h3.416L10 6.75zM8.933 5h2.133l4.009 9.583h-1.808L12.4 12.5H7.6l-.867 2.083H4.925L8.933 5z" /></symbol><symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__straw"><path d="m4.879 13.227 6.954-6.953 2.121 2.12L7 15.35c-.296.295-.651.5-.97.56l-1.592.299c-.298.056-.474-.12-.418-.419l.298-1.591c.06-.32.265-.675.56-.97z" stroke="#606770" stroke-width="1.5" /><path fill-rule="evenodd" clip-rule="evenodd" d="m15.079 7.912.38 2.345a.5.5 0 0 1-.14.433l-.35.35a.5.5 0 0 1-.707 0L9.077 5.854a.5.5 0 0 1 0-.707l.353-.353a.5.5 0 0 1 .426-.141l2.261.328 2.428-2.428A2.083 2.083 0 0 1 17.492 5.5l-2.413 2.412z" fill="#606770" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-align-left"><path d="M17.5 4.167h-15v1.666h15V4.167zM13.333 7.5H2.5v1.667h10.833V7.5zM2.5 10.833h15V12.5h-15v-1.667zm10.833 3.334H2.5v1.666h10.833v-1.666z" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-align-right"><path d="M17.5 4.167h-15v1.666h15V4.167zm0 3.333H6.667v1.667H17.5V7.5zm-15 3.333h15V12.5h-15v-1.667zm15 3.334H6.667v1.666H17.5v-1.666z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__text-distortion"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.216 5.413a14.496 14.496 0 0 0-10.432 0l.998 7.981a13.637 13.637 0 0 1 8.436 0l.998-7.981zM3.121 4.24a1.1 1.1 0 0 0-.682 1.157l1.094 8.75a.854.854 0 0 0 1.147.694 12.302 12.302 0 0 1 8.64 0 .854.854 0 0 0 1.148-.694l1.094-8.75a1.1 1.1 0 0 0-.683-1.157 15.83 15.83 0 0 0-11.758 0z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M6.334 13.58 6 4.58l1.333-.05.333 9-1.332.05zm4-9.382L10 13.532l1.332.047.333-9.333-1.332-.048z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M14.333 8.719a18.618 18.618 0 0 0-10.666 0v1.396a17.285 17.285 0 0 1 10.666 0V8.72z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__trash"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.982 1.5a.375.375 0 0 0-.336.207L6 3H2.625v1.5h1.17l.707 11.3a.75.75 0 0 0 .748.7h7.5a.75.75 0 0 0 .748-.7l.707-11.3h1.17V3H12l-.646-1.293a.375.375 0 0 0-.336-.207H6.982zM5.3 4.5h7.397l-.65 10.5H5.951l-.65-10.5z" /></symbol><symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" id="svg-icon__underline"><path d="M4.875 3v5.625A4.13 4.13 0 0 0 9 12.75a4.13 4.13 0 0 0 4.125-4.125V3H11.25v5.625c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V3H4.875zm9.375 10.5V15H3.75v-1.5h10.5z" /></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="svg-icon__unlock"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 9H9V7a3 3 0 0 1 6 0h2A5 5 0 0 0 7 7v2H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1h-4zm-7.95 2H6v8h12v-8H7.05z" /></symbol><symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="svg-icon__writing-mode"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.666 4.583V3.75h10v2.5H15v-.833h-2.5v9.166h1.666v1.667H9.167v-1.667h1.666V5.417h-2.5v.834H6.667V4.583zm-3.332 7.084v-7.5H5v7.5h1.667l-3.333 4.166v-4.166z" /></symbol>',t.insertBefore(l,t.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}var F=(e,t)=>{for(const[l,n]of t)e[l]=n;return e};const en={name:"SkyButton"};function tn(e){const t=e,l=A(()=>{const n=[];return t.size&&n.push(`sky-button--${t.size}`),t.plain&&n.push("sky-button--plain"),n});return(n,o)=>(S(),E("button",ee({type:"button",class:["sky-button",w(l)]},n.$attrs),[ae(n.$slots,"default",{},void 0,!0)],16))}const nn=Object.assign(en,{props:{plain:{type:Boolean,default:!1},size:{type:String,default:"",validator(e){return!e||["small","large"].includes(e)}}},setup:tn});var on=F(nn,[["__scopeId","data-v-504bc46a"]]);const ln=["type","value"],sn={key:0,class:"sky-input__append flex-center"},an={name:"SkyInput"};function rn(e,{emit:t}){const l=e,n=At(),o=nt(),s=H(null),a=A(()=>{const c=[];return l.size&&c.push(`sky-input--${l.size}`),n.append&&c.push("sky-input--append"),c});function r(c){t("input",c.target.value,c)}function i(c){t("change",c.target.value,c),he(()=>{s.value.value=l.value})}return(c,u)=>(S(),E("div",{class:U(["sky-input",[...w(a),w(o).class]])},[b("input",ee({ref:(p,h)=>{h.elInput=p,s.value=p},class:"sky-input__inner",type:e.type,value:e.value},c.$attrs,{onInput:r,onChange:i}),null,16,ln),c.$slots.append?(S(),E("div",sn,[ae(c.$slots,"append",{},void 0,!0)])):pe("",!0)],2))}const cn=Object.assign(an,{props:{value:[String,Number],type:{type:String,default:"text"},size:{type:String,default:"",validator(e){return!e||["small","large"].includes(e)}}},emits:["input","change"],setup:rn});var lt=F(cn,[["__scopeId","data-v-3d656d19"]]);const be=(e,{decimal:t=0}={})=>t>0?Number(e.toFixed(t)):Math.round(e);const un={name:"SkyInputNumber",inheritAttrs:!1};function dn(e,{emit:t}){const l=e,n=nt(),o=A(()=>{const h="sky-input__number",C=[h,l.class];return n.size&&C.push(`${h}--${n.size}`),n.readonly!==void 0&&C.push(`${h}-readonly`),C}),s=A(()=>typeof l.max=="number"&&n.value>=l.max),a=A(()=>typeof l.min=="number"&&n.value<=l.min);function r(h){return h=Number(h),typeof l.min=="number"&&(h<l.min&&(h=l.min),h>l.max&&(h=l.max)),h}function i(h,C){t("input",r(h),C)}function c(h,C){t("change",r(h),C)}function u(){s.value||t("change",be(n.value+l.step,{decimal:l.decimal}))}function p(){a.value||t("change",be(n.value-l.step,{decimal:l.decimal}))}return(h,C)=>{const _=R("svg-icon");return S(),E("div",{class:U(w(o))},[d(lt,ee({type:"number"},w(n),{onInput:i,onChange:c}),null,16),b("div",{class:U(["sky-input__number-arrow flex-center top-0",{"sky-disabled":w(s)}]),onClick:u},[d(_,{filename:"arrow-up"})],2),b("div",{class:U(["sky-input__number-arrow flex-center bottom-0",{"sky-disabled":w(a)}]),style:{transform:"rotateX(180deg)"},onClick:p},[d(_,{filename:"arrow-up"})],2)],2)}}const fn=Object.assign(un,{props:{min:Number,max:Number,decimal:{type:Number,default:0},step:{type:Number,default:1},class:{type:String,default:""}},emits:["input","change"],setup:dn});var pn=F(fn,[["__scopeId","data-v-00c01dec"]]);const hn=e=>(xe("data-v-25aed1d8"),e=e(),Ce(),e),mn={class:"sky-select","data-sky-popup":""},gn=hn(()=>b("div",{class:"absolute w-full h-full top-0 cursor-pointer"},null,-1)),vn={class:"sky-select__arrow flex-center"},_n={name:"SkySelect"};function yn(e,{expose:t,emit:l}){Pt("vmSelect",ke());const n=H(!1);function o(s){l("update:value",s),l("change",s),n.value=!1}return t({handleChange:o}),(s,a)=>{const r=R("SkyInput"),i=R("svg-icon"),c=R("SkyPopup");return S(),E("div",mn,[b("div",{onClick:a[0]||(a[0]=u=>n.value=!n.value)},[d(r,{value:e.value,readonly:""},null,8,["value"]),gn,b("div",vn,[d(i,{filename:"arrow-down--line"})])]),d(c,{visible:n.value,"onUpdate:visible":a[1]||(a[1]=u=>n.value=u),class:"sky-select__popup"},{default:z(()=>[ae(s.$slots,"default",{},void 0,!0)]),_:3},8,["visible"])])}}const bn=Object.assign(_n,{props:{value:{type:[String,Number],required:!0}},emits:["update:value","change"],setup:yn});var wn=F(bn,[["__scopeId","data-v-25aed1d8"]]);const Sn=["value"],xn={key:1},Cn={name:"SkyOption",inheritAttrs:!1};function kn(e){const t=e,l=te("vmSelect"),n=A(()=>({active:t.value===l.props.value}));function o(){l.exposed.handleChange(t.value)}return(s,a)=>(S(),E("div",{class:U(["sky-option",w(n)]),value:e.value,onClick:o},[s.$slots.default?ae(s.$slots,"default",{key:0},void 0,!0):(S(),E("span",xn,re(e.label),1))],10,Sn))}const $n=Object.assign(Cn,{props:{label:{type:String,default:""},value:{required:!0}},setup:kn});var En=F($n,[["__scopeId","data-v-83d83e12"]]);const Ee=(e,{onmousedown:t,onmousemove:l,onmouseup:n}={})=>{let o=e.getBoundingClientRect();const s={x:0,y:0},a=u=>{let p=u.pageX-o.x,h=u.pageY-o.y;p<0&&(p=0),p>o.width&&(p=o.width),h<0&&(h=0),h>o.height&&(h=o.height),s.x=be(p/o.width,{decimal:2}),s.y=be(h/o.height,{decimal:2})},r=u=>{a(u),l&&l(s,u)},i=u=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),n&&n(s,u)},c=u=>{o=e.getBoundingClientRect(),a(u),document.addEventListener("mousemove",r),document.addEventListener("mouseup",i),t&&t(s,u)};return e.addEventListener("mousedown",c),{destroy(){e.removeEventListener("mousedown",c)}}},st=(e,t,l)=>{let n=Math.round(e).toString(16),o=Math.round(t).toString(16),s=Math.round(l).toString(16);return n.length===1&&(n="0"+n),o.length===1&&(o="0"+o),s.length===1&&(s="0"+s),"#"+n+o+s},Be=(e,t,l,n=1)=>{const o=st(e,t,l);let s=Math.round(n*255).toString(16);return s.length===1&&(s="0"+s),o+s},at=(e,t,l)=>{e/=255,t/=255,l/=255;const n=Math.min(e,t,l),o=Math.max(e,t,l),s=o-n;let a=0,r=0;const i=o;if(s===0)a=r=0;else{r=s/o;const c=((o-e)/6+s/2)/s,u=((o-t)/6+s/2)/s,p=((o-l)/6+s/2)/s;e===o?a=p-u:t===o?a=1/3+c-p:l===o&&(a=2/3+u-c),a<0?a+=1:a>1&&(a-=1)}return[a*360,r*100,i*100]},Mn=(e,t,l,n=1)=>[...at(e,t,l),n];function In(e,t,l){e=e/360*6,t/=100,l/=100;const n=Math.floor(e),o=e-n,s=l*(1-t),a=l*(1-o*t),r=l*(1-(1-o)*t),i=n%6,c=[l,a,s,s,r,l][i],u=[r,l,l,a,s,s][i],p=[s,s,r,l,l,a][i];return[Math.round(c*255),Math.round(u*255),Math.round(p*255)]}const zn=(e,t,l)=>{const[n,o,s]=In(e,t,l);return st(n,o,s)},Rn=(e,t,l,n=1)=>`${zn(e,t,l)}${n===0?"00":Math.round(n*255).toString(16)}`,Le=e=>{e=e.slice(0,7);let t=0,l=0,n=0;return e.length==4?(t=+("0x"+e[1]+e[1]),l=+("0x"+e[2]+e[2]),n=+("0x"+e[3]+e[3])):e.length==7&&(t=+("0x"+e[1]+e[2]),l=+("0x"+e[3]+e[4]),n=+("0x"+e[5]+e[6])),[t,l,n]},Ve=e=>{const t=Le(e),l=+("0x"+e[7]+e[8]);return[...t,+(l/255).toFixed(2)]},Tn=e=>{const[t,l,n,o]=Ve(e);return Mn(t,l,n,o)},Bn=e=>e.startsWith("#")?"\u7EAF\u8272":e.startsWith("linear-gradient")?"\u6E10\u53D8":"\u56FE\u6848",it=(e,t)=>{const l=[];return t.forEach(n=>{l.push(`${n.color} ${n.offset*100}%`)}),`linear-gradient(${e}deg, ${l.join(",")})`};function On(e,{css:t=""}={}){const l=e.cloneNode(!0),o=new XMLSerializer().serializeToString(l);return`<svg xmlns='http://www.w3.org/2000/svg' width='${e.clientWidth}' height='${e.clientHeight}'><style>${t}</style><foreignObject x='0' y='0' width='100%' height='100%'>${o}</foreignObject></svg>`}async function Hn(e,{css:t=""}={}){const l=On(e,{css:t});return new Promise((n,o)=>{const s=new Image;s.onload=a=>{n(a.target)},s.onerror=o,s.src=`data:image/svg+xml;charset=utf-8,${l}`})}const je=e=>(xe("data-v-8c65464a"),e=e(),Ce(),e),An={class:"sky-color-picker"},Pn={class:"mb-3"},Dn={key:1,class:"sky-cp__gradient flex-center"},Ln={class:"sky-cp__gradient-bar w-48 h-4"},Vn=["data-sort","onMousedown","onKeyup"],jn=je(()=>b("div",{class:"sky-cpp__color-saturation"},null,-1)),Nn=je(()=>b("div",{class:"sky-cpp__color-value"},null,-1)),Fn={class:"sky-cp__slider sky-cp__slider-hux"},Gn={class:"sky-cp__slider sky-cp__slider-alpha"},qn={class:"flex justify-between mt-3.5"},Un={key:0,class:"sky-cp__picking-model"},Wn=je(()=>b("div",{class:"sky-cp__straw-mousetrack"},null,-1)),Kn={name:"ColorPicker",inheritAttrs:!1};function Yn(e,{emit:t}){const l=e,n=H(90),o=H([]),s=$e({h:0,s:0,l:0,a:0}),a=H("#f00"),r=H("#000"),i=H(0),c=H(!1);let u=H({});const p=H(null),h=H(null),C=H(null),_=H(null),g=H(null),x=H(null),y=H(null);H(null);let m=null,f=null,v=null,k=null,M=null,B=null,$=null;const I=A(()=>l.modes.includes("\u6E10\u53D8")),O=A(()=>{const T=Le(r.value).join(",");return{background:`linear-gradient(to right, rgba(${T}, 0) 0%, rgb(${T}) 100%)`}});ce(()=>l.mode,T=>{G(T)}),ce(u,T=>{j(T.color)}),ie(async()=>{G(l.mode),C.value.style.left=`${s.s}%`,C.value.style.top=`${100-s.l}%`,_.value.style.left=`${s.h/360*100}%`,x.value.style.left=`${s.a*100}%`,I.value&&(m=Ee(p.value,{onmousedown:K,onmousemove:ne,onmouseup:ve})),f=Ee(h.value,{onmousemove:Xe,onmouseup:Xe}),v=Ee(g.value,{onmousemove:Je,onmouseup:Je}),k=Ee(y.value,{onmousemove:Qe,onmouseup:Qe}),await he(),$=ce(s,Ie,{deep:!0})}),De(()=>{f==null||f.destroy(),v==null||v.destroy(),k==null||k.destroy(),$(),m&&m.destroy()});function G(T){T==="\u6E10\u53D8"?o.value.length===0?l.value.match(/[^,]+/g).forEach((D,W)=>{if(W===0){n.value=Number(D.match(/\d+/)[0]);return}let[Y,le]=D.trim().split(" ");Y.startsWith("#")||(Y=Be(Y)),le=le.match(/\d+/)[0]/100,o.value.push({color:Y,offset:le}),u.value=o.value[0]}):j(u.value.color):T==="\u7EAF\u8272"&&j(l.value)}function q(T){var D;a.value=`hsl(${s.h}, 100%, 50%)`,r.value=T.slice(0,7),B=r.value,i.value=Math.round(((D=s.a)!=null?D:1)*100)}function j(T){const D=Tn(T);s.h=D[0],s.s=D[1],s.l=D[2],s.a=D[3],q(T);let W=s.s;const Y=Math.round(100-s.l);C.value.style.left=`${W}%`,C.value.style.top=`${Y}%`,W=s.h/360,_.value.style.left=`${W*100}%`,x.value.style.left=`${s.a*100}%`}function K(T){if(M)return;const D=o.value.findIndex(L=>L.offset>=T.x),W=o.value[D-1],Y=Ve(W.color),le=o.value[D],ze=Ve(le.color),Re=[];for(let L=0;L<3;L+=1)Re.push(Y[L]+(ze[L]-Y[L])*T.x);const Ae=le.offset-T.x-(T.x-W.offset)>0?Y[3]:ze[3],P=Be(...Re,Ae);u.value={color:P,offset:T.x},o.value.splice(D,0,u.value)}function ne(T){!M||(u.value.offset=T.x,o.value.sort((D,W)=>D.offset-W.offset),t("update:value",it(n.value,o.value)))}function ve(){M=!1}function Se(T){M=!0,u.value=T}function fe(T){if(!["Backspace","Delete"].includes(T.key)||o.value.length===2)return;const D=o.value.indexOf(u.value);o.value.splice(D,1),u.value=o.value[0]}function Ie(T){const D=Rn(...Object.values(T));l.mode==="\u7EAF\u8272"?t("update:value",D):l.mode==="\u6E10\u53D8"&&(u.value.color=D,t("update:value",it(n.value,o.value))),q(D)}function Xe(T){const D=T.x*100,W=T.y*100;s.s=Math.round(D),s.l=Math.round(100-W),C.value.style.left=`${D}%`,C.value.style.top=`${W}%`}function Je(T){s.h=T.x*360,_.value.style.left=`${T.x*100}%`}function Qe(T){s.a=T.x,x.value.style.left=`${T.x*100}%`}function Mt(T){if(/^#(?:[0-9a-f]{3}){1,2}$/i.test(T)){const D=Le(T),[W,Y,le]=at(...D);s.h=W,s.s=Y,s.l=le,C.value.style.left=`${s.s}%`,C.value.style.top=`${100-s.l}%`,_.value.style.left=`${s.h/360*100}%`,r.value=T}else r.value=B}function Ze(T){s.a=T/100,x.value.style.left=`${T}%`}async function It(){const T=await Hn(l.strawEl,{css:l.strawCss});c.value=!0,await he();const W=document.querySelector(".sky-cp__straw-canvas").getContext("2d"),{top:Y,left:le}=l.strawEl.getBoundingClientRect();W.drawImage(T,le,Y,l.strawEl.clientWidth,l.strawEl.clientHeight)}function zt(){c.value=!1,j()}return(T,D)=>{const W=R("SkyTabPanel"),Y=R("SkyTabs"),le=R("svg-icon"),ze=R("SkyButton"),Re=R("SkyInput"),Ae=R("SkyInputNumber");return S(),E(J,null,[b("div",An,[b("div",Pn,re(e.mode),1),e.modes.length>1?(S(),X(Y,{key:0,value:e.mode,onChange:D[0]||(D[0]=P=>t("changeMode",P))},{default:z(()=>[(S(!0),E(J,null,se(e.modes,P=>(S(),X(W,{key:P,label:P},null,8,["label"]))),128))]),_:1},8,["value"])):pe("",!0),w(I)?_e((S(),E("div",Dn,[b("div",Ln,[b("div",{ref:(P,L)=>{L.elGradientTrack=P,p.value=P},class:"sky-cpgb__track h-full",style:V([{width:"174px"},{background:e.value}])},[(S(!0),E(J,null,se(o.value,(P,L)=>(S(),E("div",{key:L,class:U(["sky-cpgb__pointer",{"sky-cpgb__pointer--active":P===w(u)}]),"data-sort":L,style:V({left:`${P.offset*100}%`,background:P.color}),tabindex:"-1",onMousedown:Qa=>Se(P),onKeyup:Te(fe,["stop"])},null,46,Vn))),128))],4)])],512)),[[ye,e.mode==="\u6E10\u53D8"]]):pe("",!0),b("div",{ref:(P,L)=>{L.elPalette=P,h.value=P},class:"sky-cp__palette",style:V({background:a.value})},[jn,Nn,b("div",{ref:(P,L)=>{L.elPalettePointer=P,C.value=P},class:"sky-cpp__pointer"},null,512)],4),b("div",Fn,[b("div",{ref:(P,L)=>{L.elSliderHux=P,g.value=P},class:"sky-cps__track"},[b("div",{ref:(P,L)=>{L.elSliderHuxPointer=P,_.value=P},class:"sky-cpst__pointer"},null,512)],512)]),b("div",Gn,[b("div",{class:"sky-cpsa__background",style:V(w(O))},null,4),b("div",{ref:(P,L)=>{L.elSliderAlpha=P,y.value=P},class:"sky-cps__track"},[b("div",{ref:(P,L)=>{L.elSliderAlphaPointer=P,x.value=P},class:"sky-cpst__pointer"},null,512)],512)]),b("div",qn,[d(ze,{size:"small",onClick:It},{default:z(()=>[d(le,{filename:"straw"})]),_:1}),d(Re,{value:r.value,class:"w-24 mx-1",size:"small",onChange:Mt},null,8,["value"]),d(Ae,{value:i.value,"onUpdate:value":D[1]||(D[1]=P=>i.value=P),class:"w-12",size:"small",min:0,max:100,onInput:Ze,onChange:Ze},null,8,["value"])])]),(S(),X(Dt,{to:"body"},[c.value?(S(),E("div",Un,[b("canvas",{class:"sky-cp__straw-canvas",onClick:zt}),Wn])):pe("",!0)]))],64)}}const Xn=Object.assign(Kn,{props:{value:{type:String,default:"#ffffff00"},modes:{type:Array,default:()=>["\u7EAF\u8272","\u6E10\u53D8","\u56FE\u6848"]},mode:{type:String,default:"\u7EAF\u8272",validator:e=>["\u7EAF\u8272","\u6E10\u53D8","\u56FE\u6848"].includes(e)},strawEl:{type:HTMLElement,default:document.body},strawCss:{type:String,default:""}},emits:["update:value","changeMode"],setup:Yn});var Jn=F(Xn,[["__scopeId","data-v-8c65464a"]]);const Qn={name:"SkyColorPicker",inheritAttrs:!1};function Zn(e,{emit:t}){const l=e,n=H("\u7EAF\u8272"),o=H(l.defaultColor),s=H(l.defaultGradient),a=H(l.defaultImage);Lt(()=>l.value,c=>{!c||(n.value=Bn(c),r(c))});function r(c){n.value==="\u7EAF\u8272"?o.value=c:n.value==="\u6E10\u53D8"?s.value=c:n.value==="\u56FE\u6848"&&(a.value=c),t("update:value",c)}function i(c){n.value=c;let u;c==="\u7EAF\u8272"?u=o.value:c==="\u6E10\u53D8"?u=s.value:c==="\u56FE\u6848"&&(u=a.value),t("update:value",u)}return(c,u)=>(S(),X(Jn,ee({mode:n.value},c.$attrs,{"onUpdate:value":r,onChangeMode:i}),null,16,["mode"]))}const eo=Object.assign(Qn,{props:{defaultColor:{type:String,default:"#ffffffff"},defaultGradient:{type:String,default:"linear-gradient(90deg, #fffae0ff 0%, #ffd1f1ff 100%)"},defaultImage:{type:String,default:"https://st0.dancf.com/csc/157/material-2d-textures/0/20190714-174653-ed3c.jpg"}},emits:["update:value"],setup:Zn});var to={watch:{visible(e){if(!e)return;for(this.mountEl=this.$parent.$el;this.mountEl&&!Reflect.has(this.mountEl.dataset,"skyPopup");)this.mountEl=this.mountEl.parentElement;if(!this.mountEl)return;const{top:t,left:l,width:n,height:o}=this.mountEl.getBoundingClientRect();this.$el.style.top=`${t+o}px`,this.$el.style.left=`${l+n/2}px`}}};const no={name:"SkyPopup",mixins:[to]};function oo(e,{emit:t}){const l=e,n=A(()=>({width:`${l.width}px`}));return(o,s)=>_e((S(),X(w(Vt),{class:"sky-popup",style:V(w(n)),onTrigger:s[0]||(s[0]=a=>t("update:visible",!1))},{default:z(()=>[ae(o.$slots,"default",{},void 0,!0)]),_:3},8,["style"])),[[ye,e.visible]])}const lo=Object.assign(no,{props:{visible:{type:Boolean,default:!1},width:{type:Number,default:200}},emits:["update:visible"],setup:oo});var so=F(lo,[["__scopeId","data-v-54ee3737"]]);const ao={class:"sky-tabs"},io={class:"sky-tabs__header"},ro={class:"sky-tabs__header-shell"},co=["onClick"],uo={class:"sky-tabs__content"},fo={name:"SkyTabs"};function po(e,{emit:t}){const l=e;let n=0;const o=H([]),s=$e({width:0,left:0});let a=null;function r(c){var p,h;const u=o.value.findIndex(C=>C.props.label===c);s.left=`${n*u}%`,a=o.value[u],(h=(p=a.exposed)==null?void 0:p.changeActive)==null||h.call(p,!0)}function i(c,u){var p,h;t("update:value",c.props.label),t("change",c.props.label),s.left=`${n*u}%`,(h=(p=a==null?void 0:a.exposed)==null?void 0:p.changeActive)==null||h.call(p,!1),a=o.value[u],a.exposed.changeActive(!0)}return ce(()=>l.value,r),ie(()=>{n=100/o.value.length,s.width=`${n}%`,r(l.value)}),(c,u)=>(S(),E("div",ao,[b("div",io,[b("div",ro,[(S(!0),E(J,null,se(o.value,(p,h)=>(S(),E("div",{key:p.props.label,class:U(["sky-tab__title",{"sky-active":p.props.label===e.value}]),onClick:C=>i(p,h)},re(p.props.label),11,co))),128)),b("div",{class:"sky-tab__slider",style:V(w(s))},null,4)])]),b("div",uo,[ae(c.$slots,"default",{},void 0,!0)])]))}const ho=Object.assign(fo,{props:{value:{type:String,required:!0}},emits:["update:value","change"],setup:po});var mo=F(ho,[["__scopeId","data-v-f386c9f6"]]);const go={name:"SkyTabPanel"};function vo(e,{expose:t}){const l=ke();l.parent.setupState.tabs.push(l);const n=H(!1),o=A(()=>({display:n.value?"block":"none"}));function s(a){n.value=a}return t({changeActive:s}),(a,r)=>(S(),E("div",{class:"sky-tab-panel",style:V(w(o))},[ae(a.$slots,"default")],4))}const _o=Object.assign(go,{props:{label:{type:String,required:!0}},setup:vo});const yo={name:"SkyTooltip",props:{content:{type:[String,Number],default:""},direction:{type:String,default:"top",validator(e){return["top","right","bottom","left"].includes(e)}},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},computed:{rootClass(){const e=[`sky-tooltip--${this.direction}`];return this.disabled&&e.push("sky-tooltip--disabled"),this.active&&e.push("sky-tooltip--active"),e}}},bo=["data-tips"];function wo(e,t,l,n,o,s){return S(),E("div",{class:U(["sky-tooltip",s.rootClass]),"data-tips":l.content},[ae(e.$slots,"default",{},void 0,!0)],10,bo)}var So=F(yo,[["render",wo],["__scopeId","data-v-d2e76e10"]]);const xo={class:"sky-dialog__header"},Co={class:"sky-dialog__body"},ko={class:"sky-dialog__footer"},$o={name:"SkyDialog"};function Eo(e,{emit:t}){const l=e,n=A(()=>({display:l.visible?"flex":"none"})),o=A(()=>({width:l.width,height:l.height}));function s(){t("update:visible",!1)}return(a,r)=>(S(),E("div",{class:"sky-dialog flex-center",style:V(w(n))},[b("div",{class:"mask",onClick:s}),b("div",{class:"sky-dialog__panel",style:V(w(o))},[b("div",xo,[ae(a.$slots,"header",{},void 0,!0)]),b("div",Co,[ae(a.$slots,"default",{},void 0,!0)]),b("div",ko,[ae(a.$slots,"footer",{},void 0,!0)])],4)],4))}const Mo=Object.assign($o,{props:{visible:{type:Boolean,default:!1},width:{type:String,default:"80%"},height:{type:String,default:"80%"}},emits:["update:visible"],setup:Eo});var Io=F(Mo,[["__scopeId","data-v-179c8dd6"]]);const zo={name:"SkySlider"};function Ro(e,{emit:t}){const l=e,n=H(!1),o=H(null),s=H(null);let a=null,r=null,i=null;const c=A(()=>Math.round(l.max-l.min)),u=A(()=>Math.round((l.value-l.min)/c.value*100)),p=A(()=>({width:`${u.value}%`})),h=A(()=>({left:`${u.value}%`}));ie(()=>{a=Ee(o.value,{onmousedown:C,onmousemove:C}),r=()=>{n.value=!0},i=()=>{n.value=!1},s.value.addEventListener("mousedown",r),document.addEventListener("mouseup",i)}),De(()=>{a.destroy(),s.value.removeEventListener("mousedown",r),document.removeEventListener("mouseup",i)});function C(_){let g=_.x*c.value;l.step>0&&(g=Math.round(_.x*l.max/l.step)*l.step);const x=be(g+l.min,{decimal:2});x!==l.value&&t("update:value",x)}return(_,g)=>{const x=R("SkyTooltip");return S(),E("div",{class:"sky-slider",ref:(y,m)=>{m.elRoot=y,o.value=y}},[b("div",{class:"sky-slider__progress",style:V(w(p))},null,4),b("div",{ref:(y,m)=>{m.elPointer=y,s.value=y},class:"sky-slider__pointer",style:V(w(h))},[_e(d(x,{content:e.value,active:n.value},null,8,["content","active"]),[[ye,e.showTooltip]])],4)],512)}}const To=Object.assign(zo,{props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:0},showTooltip:{type:Boolean,default:!0}},emits:["update:value"],setup:Ro});var Bo=F(To,[["__scopeId","data-v-7e8a13ac"]]);const Oo=[on,lt,pn,wn,En,eo,so,mo,_o,So,Io,Bo];var Ho={install(e){Oo.forEach(t=>{e.component(t.name,t)})}};const Ao=["xlink:href"],Po={name:"SvgIcon"};function Do(e){const t=e,l=A(()=>`#svg-icon__${t.filename}`);return(n,o)=>(S(),E("svg",ee({class:[`svg-icon__${e.filename}`,"svg-icon"],"aria-hidden":"true"},n.$attrs),[b("use",{"xlink:href":w(l)},null,8,Ao)],16))}const Lo=Object.assign(Po,{props:{filename:String},setup:Do});var rt=F(Lo,[["__scopeId","data-v-3d81af54"]]);const Vo={class:"cloud-text"},jo={class:"text__effect"},No=["textContent"],Fo=["textContent"],Go=["contenteditable"],qo={name:"CloudText",inheritAttrs:!1};function Uo(e){const t=e,l=A(()=>{const r=t.cloud.writingMode==="vertical-rl";return Pe(de({},n(t.cloud)),{width:r?"auto":"100%",height:r?"100%":"auto"})});function n(r){var c,u,p,h,C,_,g;const i={fontSize:r.fontSize?`${r.fontSize}px`:"",textAlign:(c=r.textAlign)!=null?c:"",color:r.color,textDecoration:(u=r.textDecoration)!=null?u:"",writingMode:(p=r.writingMode)!=null?p:"",fontWeight:(h=r.fontWeight)!=null?h:"",fontStyle:(C=r.fontStyle)!=null?C:"",lineHeight:(_=r.lineHeight)!=null?_:"",letterSpacing:(g=r.letterSpacing)!=null?g:""};return r.fontFamily&&(i.fontFamily=r.fontFamily),i}function o(r){return n(r)}function s(r){return{webkitTextStroke:`${r.width}px rgba(${r.color.join(",")})`}}function a(r){const{distance:i,angle:c,color:u,blur:p}=r,h=i*Math.cos((180-c)*(Math.PI/180)),C=i*Math.sin((180-c)*(Math.PI/180));return{textShadow:`${h}px ${C}px ${p}px rgba(${u.join(",")})`}}return(r,i)=>(S(),E("div",Vo,[_e(b("div",jo,[(S(!0),E(J,null,se(e.cloud.strokes,(c,u)=>(S(),E("div",{key:`stroke${u}`,class:"text__stroke",style:V(s(c))},[(S(!0),E(J,null,se(e.cloud.texts,(p,h)=>(S(),E("span",{key:h,style:V(o(p)),textContent:re(p.text)},null,12,No))),128))],4))),128)),(S(!0),E(J,null,se(e.cloud.shadows,(c,u)=>(S(),E("div",{key:`shadow${u}`,class:"text__shadow",style:V(a(c))},[(S(!0),E(J,null,se(e.cloud.texts,(p,h)=>(S(),E("span",{key:h,style:V(o(p)),textContent:re(p.text)},null,12,Fo))),128))],4))),128))],512),[[ye,e.readonly]]),b("div",ee({class:"text__content",style:w(l)},r.$attrs,{contenteditable:!e.readonly}),[(S(!0),E(J,null,se(e.cloud.texts,(c,u)=>(S(),E("span",{key:u,style:V(o(c))},re(c.text),5))),128))],16,Go)]))}const Wo=Object.assign(qo,{props:{cloud:{type:Object,required:!0},readonly:{type:Boolean,default:!0}},setup:Uo});const Ko={name:"CloudTextEditor"};function Yo(e,{expose:t}){const l=e,n=te("sky"),o=["ne","nw","sw","se"];let s=null;const a={moveable:{onClick:C,onChangeTarget:_,onResizeStart:x,onResize:y,onResizeEnd:m,keepRatio:[...o],renderDirections:p(l.cloud.writingMode),onLeaveSelect:_}},r=H(),i=H(!0),c=H(JSON.stringify(l.cloud.texts)),u=A(()=>({width:`${l.cloud.width/n.state.scale}px`,height:`${l.cloud.height/n.state.scale}px`,transform:`scale(${n.state.scale})`,transformOrigin:"top left"}));ce(i,f=>{f||(n.moveable.instance.passDragArea=!0)}),ce(()=>l.cloud.writingMode,()=>{a.moveable.renderDirections=p(c),n.moveable.updateState(),n.moveable.instance.updateTarget()}),ie(()=>{["cloud.letterSpacing","cloud.lineHeight"].forEach(f=>{ce(()=>f,async()=>{await he(),n.cloud.updateCloudsElementRect()})})});function p(f){return f==="vertical-rl"?[...o,"n","s"]:[...o,"w","e"]}function h(){window.getSelection().removeAllRanges(),window.getSelection().selectAllChildren(r.value.querySelector(".text__content"))}function C(f){if(!i.value||l.cloud.lock||f.metaKey||f.shiftKey)return;const v=Date.now();v-s<300&&(i.value=!1,he(()=>{h()})),s=v}function _(){i.value=!0,l.cloud.text=r.value.textContent}function g(){}function x(f){const{datas:v}=f;v.startFontSize=l.cloud.fontSize}function y(f){const{datas:v,direction:k}=f,[M,B]=k;l.cloud.writingMode==="horizontal-tb"&&M===0&&console.log(r),M!==0&&B!==0&&(l.cloud.fontSize=v.startFontSize*v.scale[0])}function m(){}return t({skyHooks:a,readonly:i}),(f,v)=>(S(),E("div",{ref:(k,M)=>{M.elRoot=k,r.value=k},class:"cloud-text__editor",style:V(w(u)),onClick:C,onMouseup:g},[d(Wo,{cloud:e.cloud,readonly:i.value},null,8,["cloud","readonly"])],36))}const Xo=Object.assign(Ko,{props:{cloud:{type:Object,required:!0}},setup:Yo}),Jo={class:"cloud__image"},Qo=["src"],Zo={name:"CloudImage"};function el(e){return(t,l)=>(S(),E("div",Jo,[b("img",{src:e.cloud.src,alt:"",class:"image__content"},null,8,Qo)]))}const tl=Object.assign(Zo,{props:{cloud:{type:Object,required:!0}},setup:el}),nl={name:"CloudImageEditor"};function ol(e,{expose:t}){return t({moveable:{keepRatio:["ne","nw","sw","se"]}}),(n,o)=>(S(),X(tl,jt(Nt(n.$attrs)),null,16))}const ll=Object.assign(nl,{setup:ol});const sl={class:"header"},al={name:"ControlPanelHeader"};function il(e){return(t,l)=>{const n=R("svg-icon");return S(),E("div",sl,[e.showBack?(S(),X(n,{key:0,filename:"arrow-left",onClick:l[0]||(l[0]=o=>t.emit("back"))})):pe("",!0),b("div",null,re(e.title),1)])}}const rl=Object.assign(al,{props:{showBack:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["back"],setup:il});var Oe=F(rl,[["__scopeId","data-v-4f888f5e"]]),ct=`/* purgecss start ignore */

.sky-renderer {
  position: absolute;
  top: 0;
  left: 0;
}

.sky-background {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
}

.sky-clouds {
  position: absolute;
}

.sky-cloud {
  position: absolute;
}

/* purgecss end ignore */
`,ut=`/* purgecss start ignore */

.text-index {
  word-wrap: break-word;
}

.text__effect {
  position: absolute;
  width: 100%;
  height: 100%;
}

.text__content {
  position: absolute; /* \u7528\u6765\u63D0\u5347 DOM \u5C42\u7EA7 + \u83B7\u53D6\u5185\u5BB9\u771F\u5B9E\u5BBD\u9AD8 */
}

/* purgecss end ignore */
`,dt=`/* purgecss start ignore */

.cloud__image {
  height: 100%;
}

.image__content {
  display: block;
  width: 100%;
  height: 100%;
  -webkit-user-drag: none;
}

/* purgecss end ignore */
`;function Ne(e){return e.replace(/\n+/g,"").replace(/\/\*.+?\*\//g,"")}var cl=Ne(ct)+Ne(ut)+Ne(dt);const ul={key:0,class:"multiple-mask flex-center"},dl={name:"BarColorPicker",inheritAttrs:!1};function fl(e){const t=te("sky"),l=H(!1),n=H(null);return ie(()=>{n.value=t.vm.subTree.children[0].el}),(o,s)=>{const a=R("SkyColorPicker"),r=R("SkyPopup");return S(),E("div",{class:"bar__color-picker",onPointerdown:s[2]||(s[2]=Te(i=>l.value=!l.value,["stop"]))},[b("div",{class:"relative h-6 rounded cursor-pointer",style:V({background:o.$attrs.value})},[e.multiple?(S(),E("div",ul,"\u591A\u79CD\u989C\u8272")):pe("",!0)],4),d(r,{visible:l.value,"onUpdate:visible":s[0]||(s[0]=i=>l.value=i),width:256,onPointerdown:s[1]||(s[1]=Te(()=>{},["stop"]))},{default:z(()=>[d(a,ee({"straw-el":n.value,"straw-css":w(cl)},o.$attrs),null,16,["straw-el","straw-css"])]),_:1},8,["visible"])],32)}}const pl=Object.assign(dl,{props:{multiple:{type:Boolean,default:!1}},setup:fl});var ft=F(pl,[["__scopeId","data-v-23d9899a"]]);const hl={class:"flex justify-between items-center text-xs"},ml=b("div",null,"\u5B57\u95F4\u8DDD",-1),gl={class:"flex justify-between items-center text-xs mt-2"},vl=b("div",null,"\u884C\u95F4\u8DDD",-1),_l={name:"PopupSpacing"};function yl(e){const t=e,l=A(()=>{const{fontSize:o}=t.cloud;return o>50?-50:-o}),n=A(()=>{const{fontSize:o}=t.cloud;return o<50?50:o});return(o,s)=>{const a=R("SkySlider"),r=R("SkyInputNumber"),i=R("SkyPopup");return S(),X(i,ee({width:240},o.$attrs),{default:z(()=>[b("div",hl,[ml,d(a,{value:e.cloud.letterSpacing,"onUpdate:value":s[0]||(s[0]=c=>e.cloud.letterSpacing=c),min:w(l),max:w(n),"show-tooltip":!1,class:"w-28 mx-2"},null,8,["value","min","max"]),d(r,{value:Math.round(e.cloud.letterSpacing),size:"small",class:"w-12",min:w(l),max:w(n),onChange:s[1]||(s[1]=c=>e.cloud.letterSpacing=c)},null,8,["value","min","max"])]),b("div",gl,[vl,d(a,{value:e.cloud.lineHeight,"onUpdate:value":s[2]||(s[2]=c=>e.cloud.lineHeight=c),min:.5,max:2.5,"show-tooltip":!1,class:"w-28 mx-2"},null,8,["value","min","max"]),d(r,{value:e.cloud.lineHeight,min:.5,max:2.5,decimal:2,step:.02,size:"small",class:"w-12",onChange:s[3]||(s[3]=c=>e.cloud.lineHeight=c)},null,8,["value","min","max","step"])])]),_:1},16)}}const bl=Object.assign(_l,{props:{cloud:{type:Object,required:!0}},setup:yl}),pt=Ft.create();pt.interceptors.response.use(e=>e.data);const wl="https://www.gaoding.com/api/v2",Sl=async e=>await pt.get(`${wl}/fonts`,{params:{type:"font",page_size:100,page_num:e,region_id:1,biz_code:1,endpoint:4}});async function xl(e){return new Promise((t,l)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=l,n.readAsDataURL(e)})}const Cl=e=>{if(typeof e!="string")return!1;const t="Arial";if(e.toLowerCase()==t.toLowerCase())return!0;const l="a",n=100,o=100,s=100,a=document.createElement("canvas"),r=a.getContext("2d");a.width=o,a.height=s,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";const i=c=>{r.clearRect(0,0,o,s),r.font=n+"px "+c+", "+t,r.fillText(l,o/2,s/2);const u=r.getImageData(0,0,o,s).data;return[].slice.call(u).filter(p=>p!=0)};return i(t).join("")!==i(e).join("")};function kl(e,t){const l=document.createElement("style");return l.id=e,l.innerHTML=`@font-face { font-family: "${e}"; src: local("${e}"), url("${t}"); }`,l}const ht=Gt("font",{state:()=>({list:[],download:{}}),actions:{async fetch(){this.list=[];const e=qt("SKY_FONTS",[]);if(e.value.length>0&&this.list.push(...e.value),this.list.length===0){for(let t=1;t<99;t+=1){const l=await Sl(t);if(this.list.push(...l),l.length<100)break}e.value=this.list}},async addFont2Style(e,t){if(this.download[e]||Cl(e))return;const n=await(await fetch(t,{headers:{responseType:"blob"}})).blob(),o=await xl(n);this.download[e]=o,document.head.appendChild(kl(e,o))}}});function $l(){const e=document.getSelection();let{anchorNode:t,anchorOffset:l,focusNode:n,focusOffset:o}=e;function s(){l=e.focusOffset,o=e.anchorOffset}let a=t==null?void 0:t.parentElement,r=n==null?void 0:n.parentElement;const i=a==null?void 0:a.parentElement,c=Array.from(i.children);let u=c.indexOf(a),p=c.indexOf(r);return u>p?(u=p,p=c.indexOf(a),a=r,r=t==null?void 0:t.parentElement,s()):u===p&&l>o&&s(),{selection:e,elTextContent:i,anchorEl:a,anchorElIndex:u,focusEl:r,focusElIndex:p,anchorOffset:l,focusOffset:o}}function Fe(e,t,l){const n=de({},e),o=de({},e),s=de({},e);n.text=e.text.slice(0,t),o.text=e.text.slice(t,l),s.text=e.text.slice(l);const a=[];return t!==0&&a.push(n),a.push(o),l!==e.text.length&&a.push(s),a}function Ge(e,t,l,n){const o=new Range;o.setStart(e,t),o.setEnd(l,n),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}function me(e,t,l){return l===void 0&&(l=e[0][t]),e.some(n=>n[t]!==l)}function mt(e,t,l){return l===void 0&&(l=e[0][t]),e.every(n=>n[t]===l)}const El={class:"body"},Ml={class:"bar__font"},Il=["src"],zl={class:"bar bar-tool"},Rl={class:"bar bar__color","data-sky-popup":""},Tl={class:"bar bar-tool","data-sky-popup":""},Bl={name:"ControlPanelCloudText"};function Ol(e){const t=H(),l=H(),n=te("sky"),{targetClouds:o}=n.runtime,[s]=o,a=ht(),r=H(!1),i=$e({fontFamily:s.fontFamily,fontSize:s.fontSize,hasMultipleFontSize:me(o,"fontSize"),fontWeight:s.fontWeight,fontStyle:s.fontStyle,textDecoration:s.textDecoration,textAlign:s.textAlign,color:s.color,hasMultipleColor:me(o,"color"),writingMode:s.writingMode,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing});let c=n.birdVM[s.id],u=null;const p=A(()=>i.writingMode==="vertical-rl");ie(()=>{g(i.fontFamily)});function h(m,f,v){const k=i[m]===f&&v!=null?v:f;i[m]=k,o.forEach(M=>{M[m]=k})}function C(m,f,v,k){const B=me(m,f,v)?v:k;i[f]=B,m.forEach($=>{$[f]=B})}function _(m,f,v){if(!(u&&u.selection.isCollapsed)){if(o.length>1)h(m,f,v);else if(c.exposed.readonly.value)h(m,f,v),s.texts.forEach(k=>Reflect.deleteProperty(k,m));else if(u){const{elTextContent:k,anchorOffset:M,anchorEl:B,anchorElIndex:$,focusOffset:I,focusEl:O,focusElIndex:G}=u;if(B===O){const q=s.texts[$],[j]=B.childNodes;if(!u.selection.isCollapsed)if(M===0&&I===j.length)C([q],m,f,v),Ge(j,0,j,j.length);else{const K=Fe(q,M,I);s.texts.splice($,1,...K);const ne=[];K.length===1?ne.push(...K):M===0?ne.push(K[0]):ne.push(K[1]),C(ne,m,f,v),he(()=>{const ve=Array.from(k.children),Se=$+(M===0?0:1),[fe]=ve[Se].childNodes;Ge(fe,0,fe,fe.length)})}}else{const q=[];let j=s.texts[G],K=Fe(j,0,I);q.push(K[0]),s.texts.splice(G,1,...K);for(let ne=$+1;ne<G;ne+=1)j=s.texts[ne],q.push(j);j=s.texts[$],K=Fe(j,M,j.text.length),q.push(K[M===0?0:1]),s.texts.splice($,1,...K),C(q,m,f,v),he(()=>{const ne=Array.from(k.children),ve=$+(M===0?0:1),Se=ve+(G-$-1)+(I===O.length?0:1),[fe]=ne[ve].childNodes,[Ie]=ne[Se].childNodes;Ge(fe,0,Ie,Ie.length)})}}}}function g(m){const f=a.list.find(M=>M.name===m);if(!f)return;const v=l.value.querySelector(".select__font-family").querySelector(".sky-input__inner"),k={backgroundImage:`url(${f.preview.url})`,backgroundSize:"80%",backgroundPosition:"12px center",backgroundRepeat:"no-repeat"};Object.assign(v.style,k)}function x(m){_("fontFamily",m),g(m);const f=a.list.find(v=>v.name===m);a.addFont2Style(f.name,f.content.woff)}function y(){h("writingMode",p?"horizontal-tb":"vertical-rl"),o.forEach(m=>{const{width:f,height:v}=m;m.width=v,m.height=f}),n.cloud.updateCloudsElementRect()}return document.onselectionchange=()=>{if(c.exposed.readonly.value){u=null;return}u=$l();const m=s.texts.slice(u.anchorElIndex,u.focusElIndex+1),[f]=m;Object.assign(i,{hasMultipleFontSize:me(m,"fontSize"),fontWeight:me(m,"fontWeight",700)?400:700,fontStyle:me(m,"fontStyle","italic")?"normal":"italic",color:f.color||s.color,hasMultipleColor:me(m,"color"),textDecoration:mt(m,"textDecoration","underline")?"underline":mt(m,"textDecoration","line-through")?"line-through":"none"})},(m,f)=>{const v=R("SkyOption"),k=R("SkySelect"),M=R("SkyInputNumber"),B=R("SkyTooltip"),$=R("svg-icon"),I=R("SkyButton");return S(),E("div",{ref:(O,G)=>{G.refRoot=O,l.value=O},class:"control-panel__cloud-text"},[d(Oe,{title:"\u6587\u5B57"}),b("div",El,[b("div",Ml,[d(k,{ref:(O,G)=>{G.refSelectFontFamily=O,t.value=O},value:w(i).fontFamily,class:"select__font-family",onChange:x},{default:z(()=>[(S(!0),E(J,null,se(w(a).list,O=>(S(),X(v,{key:O.id,label:O.name,value:O.name},{default:z(()=>[b("img",{src:O.preview.url,alt:""},null,8,Il)]),_:2},1032,["label","value"]))),128))]),_:1},8,["value"]),d(M,{class:"ml-2",value:Math.round(w(i).fontSize),onInput:f[0]||(f[0]=O=>_("fontSize",O)),onChange:f[1]||(f[1]=O=>_("fontSize",O))},null,8,["value"])]),b("div",zl,[d(I,{plain:"",class:U({active:w(i).fontWeight===700}),onClick:f[2]||(f[2]=O=>_("fontWeight",700,400))},{default:z(()=>[d(B,{content:"\u52A0\u7C97",direction:"bottom"}),d($,{filename:"bold"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).fontStyle==="italic"}),onClick:f[3]||(f[3]=O=>_("fontStyle","italic","normal"))},{default:z(()=>[d(B,{content:"\u659C\u4F53",direction:"bottom"}),d($,{filename:"italic"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).textDecoration==="underline"}),onClick:f[4]||(f[4]=O=>_("textDecoration","underline","none"))},{default:z(()=>[d(B,{content:"\u4E0B\u5212\u7EBF",direction:"bottom"}),d($,{filename:"underline"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).textDecoration==="line-through"}),onClick:f[5]||(f[5]=O=>_("textDecoration","line-through","none"))},{default:z(()=>[d(B,{content:"\u5220\u9664\u7EBF",direction:"bottom"}),d($,{filename:"deleteline"})]),_:1},8,["class"])]),b("div",{class:U(["bar bar-tool",{vertical:w(p)}])},[d(I,{plain:"",class:U({active:w(i).textAlign==="left"}),onClick:f[6]||(f[6]=O=>h("textAlign","left"))},{default:z(()=>[d(B,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d($,{filename:"text-align-left"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).textAlign==="center"}),onClick:f[7]||(f[7]=O=>h("textAlign","center"))},{default:z(()=>[d(B,{content:"\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d($,{filename:"align-center"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).textAlign==="right"}),onClick:f[8]||(f[8]=O=>h("textAlign","right"))},{default:z(()=>[d(B,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d($,{filename:"text-align-right"})]),_:1},8,["class"]),d(I,{plain:"",class:U({active:w(i).textAlign==="justify"}),onClick:f[9]||(f[9]=O=>h("textAlign","justify"))},{default:z(()=>[d(B,{content:"\u4E24\u7AEF\u5BF9\u9F50",direction:"bottom"}),d($,{filename:"align-justify"})]),_:1},8,["class"])],2),b("div",Rl,[d(ft,{value:w(i).color,modes:["\u7EAF\u8272"],multiple:w(i).isMultipleColor,"onUpdate:value":f[10]||(f[10]=O=>_("color",O))},null,8,["value","multiple"])]),b("div",Tl,[d(I,{plain:"",class:U({active:w(p)}),onClick:y},{default:z(()=>[d(B,{content:"\u6587\u5B57\u7AD6\u7248",direction:"bottom"}),d($,{filename:"writing-mode"})]),_:1},8,["class"]),d(I,{plain:"",onClick:f[11]||(f[11]=O=>r.value=!r.value)},{default:z(()=>[d(B,{content:"\u95F4\u8DDD",direction:"bottom"}),d($,{filename:"spacing"})]),_:1}),d(bl,{showSpacingPopup:r.value,"onUpdate:showSpacingPopup":f[12]||(f[12]=O=>r.value=O),cloud:w(i)},null,8,["showSpacingPopup","cloud"]),d(I,{plain:""},{default:z(()=>[d(B,{content:"\u6587\u5B57\u53D8\u5F62",direction:"bottom"}),d($,{filename:"text-distortion"})]),_:1})])])],512)}}const Hl=Object.assign(Bl,{setup:Ol});var Al=F(Hl,[["__scopeId","data-v-46dc64fc"]]);const Pl={class:"control-panel__cloud-image"},Dl={class:"body"},Ll=Z("\u66FF\u6362\u56FE\u7247"),Vl={name:"ControlPanelCloudImage"};function jl(e){return(t,l)=>{const n=R("SkyButton");return S(),E("div",Pl,[d(Oe,{title:"\u56FE\u7247"}),b("div",Dl,[d(n,null,{default:z(()=>[Ll]),_:1})])])}}const Nl=Object.assign(Vl,{setup:jl});const Fl=e=>(xe("data-v-3df109f8"),e=e(),Ce(),e),Gl={class:"control-panel__group"},ql={class:"body"},Ul={class:"bar bar-tool mt-3"},Wl=Fl(()=>b("div",{class:"h-4 w-px bg-gray-300"},null,-1)),Kl={name:"ControlPanelGroup"};function Yl(e){const t=te("sky"),l=A(()=>{var o;return t.runtime.targetClouds.length===1&&((o=t.runtime.targetClouds[0])==null?void 0:o.type)==="clouds"});function n(){l?t.cloud.unGroup():t.cloud.toGroup()}return(o,s)=>{const a=R("SkyButton"),r=R("SkyTooltip"),i=R("svg-icon");return S(),E("div",Gl,[d(Oe,{title:"\u7EC4\u5408"}),b("div",ql,[d(a,{class:"button__group",onClick:n},{default:z(()=>[Z(re(w(l)?"\u62C6\u5206":"\u6210")+"\u7EC4 ",1)]),_:1}),b("div",Ul,[d(a,{plain:"",onClick:o.$sky.cloud.alignTop},{default:z(()=>[d(r,{content:"\u4E0A\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-top"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:o.$sky.cloud.alignVerticalMiddle},{default:z(()=>[d(r,{content:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-vertical-middle"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:o.$sky.cloud.alignBottom},{default:z(()=>[d(r,{content:"\u4E0B\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-bottom"})]),_:1},8,["onClick"]),Wl,d(a,{plain:"",onClick:o.$sky.cloud.alignLeft},{default:z(()=>[d(r,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-left"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:o.$sky.cloud.alignHorizontalMiddle},{default:z(()=>[d(r,{content:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-horizontal-middle"})]),_:1},8,["onClick"]),d(a,{plain:"",onClick:o.$sky.cloud.alignRight},{default:z(()=>[d(r,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d(i,{filename:"align-right"})]),_:1},8,["onClick"])])])])}}const Xl=Object.assign(Kl,{setup:Yl});var gt=F(Xl,[["__scopeId","data-v-3df109f8"]]);const qe=e=>(xe("data-v-e3617008"),e=e(),Ce(),e),Jl={class:"control-panel__default"},Ql={class:"body"},Zl={class:"panel-label"},es=qe(()=>b("span",null,"\u753B\u5E03\u5C3A\u5BF8",-1)),ts=Z("\u7F16\u8F91"),ns={class:"size"},os=Z("\u5BBD"),ls=qe(()=>b("i",{class:"w-2"},null,-1)),ss=Z("\u9AD8"),as=qe(()=>b("div",{class:"panel-label"},[b("span",null,"\u753B\u5E03\u80CC\u666F")],-1)),is=Z("\u4E0A\u4F20\u80CC\u666F\u56FE"),rs={name:"ControlPanelDefault"};function cs(e){const t=te("sky"),l=H("\u989C\u8272"),n=H(!1),o=A(()=>`${parseInt(t.state.width/t.state.scale)}px`),s=A(()=>`${parseInt(t.state.height/t.state.scale)}px`),a=A({get(){return t.state.background.color},set(r){t.state.background.color=r}});return(r,i)=>{const c=R("SkyButton"),u=R("SkyInput"),p=R("SkyTabPanel"),h=R("SkyTabs"),C=R("SkyDialog");return S(),E("div",Jl,[d(Oe,{title:"\u753B\u5E03"}),b("div",Ql,[b("div",Zl,[es,d(c,{size:"small",plain:""},{default:z(()=>[ts]),_:1})]),b("div",ns,[d(u,{value:w(o),readonly:""},{append:z(()=>[os]),_:1},8,["value"]),ls,d(u,{value:w(s),readonly:""},{append:z(()=>[ss]),_:1},8,["value"])]),as,d(h,{value:l.value,"onUpdate:value":i[2]||(i[2]=_=>l.value=_),class:"bg-tabs","data-sky-popup":""},{default:z(()=>[d(p,{class:"bar bar__color",label:"\u989C\u8272"},{default:z(()=>[d(ft,{value:w(a),"onUpdate:value":i[0]||(i[0]=_=>Ut(a)?a.value=_:null),"default-color":"#ffffffff",modes:["\u7EAF\u8272","\u6E10\u53D8"]},null,8,["value"])]),_:1}),d(p,{label:"\u56FE\u7247"},{default:z(()=>[d(c,{style:{height:"40px"},onClick:i[1]||(i[1]=_=>n.value=!0)},{default:z(()=>[is]),_:1})]),_:1})]),_:1},8,["value"])]),d(C,{visible:n.value,"onUpdate:visible":i[3]||(i[3]=_=>n.value=_)},null,8,["visible"])])}}const us=Object.assign(rs,{setup:cs});var ds=F(us,[["__scopeId","data-v-e3617008"]]);const Ue=e=>(xe("data-v-5dc12464"),e=e(),Ce(),e),fs=Ue(()=>b("div",{class:"title"},"\u753B\u5E03\u5BF9\u9F50",-1)),ps={class:"flex justify-between items-center"},hs=Ue(()=>b("div",{class:"h-4 w-px bg-gray-300"},null,-1)),ms=Ue(()=>b("div",{class:"title mt-3"},"\u56FE\u5C42\u987A\u5E8F",-1)),gs={class:"flex justify-between items-center"},vs={class:"relative"},_s={class:"layer-step"},ys={name:"PopupLayer"};function bs(e){const t=e,l=te("sky"),n=H(0),o=H([]),s=A(()=>o.value.length),a=A(()=>s.value===0?0:s.value-1);ce(()=>t.visible,u=>{if(!u)return;const p=l.cloud.getOverlappingClouds4Cloud(),[h,...C]=l.runtime.targetClouds;o.value=p.filter(_=>!C.includes(_)),n.value=o.value.findIndex(_=>_.id===h.id)});function r(u){u>n.value?l.cloud.moveUp():l.cloud.moveDown(),n.value=u}function i(){n.value<=0||r(n.value-1)}function c(){n.value>=a||r(n.value+1)}return(u,p)=>{const h=R("SkyTooltip"),C=R("svg-icon"),_=R("SkyButton"),g=R("SvgIcon"),x=R("SkySlider"),y=R("SkyPopup");return S(),X(y,ee({class:"popup__layer",width:240,visible:e.visible},u.$attrs),{default:z(()=>[fs,b("div",ps,[d(_,{plain:"",onClick:u.$sky.cloud.alignEditorTop},{default:z(()=>[d(h,{content:"\u4E0A\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-top"})]),_:1},8,["onClick"]),d(_,{plain:"",onClick:u.$sky.cloud.alignEditorVerticalMiddle},{default:z(()=>[d(h,{content:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-vertical-middle"})]),_:1},8,["onClick"]),d(_,{plain:"",onClick:u.$sky.cloud.alignEditorBottom},{default:z(()=>[d(h,{content:"\u4E0B\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-bottom"})]),_:1},8,["onClick"]),hs,d(_,{plain:"",onClick:u.$sky.cloud.alignEditorLeft},{default:z(()=>[d(h,{content:"\u5DE6\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-left"})]),_:1},8,["onClick"]),d(_,{plain:"",onClick:u.$sky.cloud.alignEditorHorizontalMiddle},{default:z(()=>[d(h,{content:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-horizontal-middle"})]),_:1},8,["onClick"]),d(_,{plain:"",onClick:u.$sky.cloud.alignEditorRight},{default:z(()=>[d(h,{content:"\u53F3\u5BF9\u9F50",direction:"bottom"}),d(C,{filename:"align-right"})]),_:1},8,["onClick"])]),ms,b("div",gs,[d(g,{filename:"layer-down",onClick:i}),b("div",vs,[_e(b("div",_s,[(S(!0),E(J,null,se(w(a),m=>(S(),E("div",{key:m,style:V({left:`${m/w(a)*100}%`}),class:"absolute w-px h-full bg-gray-400"},null,4))),128))],512),[[ye,w(s)>1]]),d(x,{value:n.value,max:w(a),step:1,disabled:w(a)===0,"show-tooltip":!1,class:"w-36",onInput:r},null,8,["value","max","disabled"])]),d(g,{filename:"layer-up",onClick:c})])]),_:1},16,["visible"])}}const ws=Object.assign(ys,{props:{visible:{type:Boolean,default:!1}},setup:bs});var Ss=F(ws,[["__scopeId","data-v-5dc12464"]]),ue;(function(e){e.text="text",e.image="image"})(ue||(ue={}));const xs={class:"control-panel__container"},Cs={key:0,class:"py-4 border-t mx-4"},ks={class:"bar mb-3"},$s=b("img",{src:"https://cdn.dancf.com/design/img/fill_opacity.f6330ad5.svg"},null,-1),Es={class:"bar bar-tool","data-sky-popup":""},Ms={name:"ControlPanelContainer"};function Is(e){const t=te("sky"),l={[ue.text]:Al,[ue.image]:Nl},n=H(!1),o=A(()=>{var C;return(C=t.runtime.targetClouds[0])!=null?C:{}}),s=A(()=>t.runtime.targetClouds.length===0?ds:t.runtime.targetClouds.length>1||o.value.type==="clouds"?gt:l[o.value.type]),a=A(()=>t.runtime.targetClouds.length===0?"default":t.runtime.targetClouds.length>1?"group":t.runtime.targetClouds[0].id),r=A(()=>a.value==="default"),i=A(()=>t.runtime.targetClouds.length===1&&!t.cloud.isCloudsObject(o.value));function c(C){o.value.opacity=be(C/100,{decimal:2})}function u(){o.value.lock?t.cloud.unlock():t.cloud.lock()}function p(){t.cloud.copy(),t.cloud.paste()}function h(){t.cloud.delete()}return(C,_)=>{const g=R("SkySlider"),x=R("SkyInputNumber"),y=R("SkyTooltip"),m=R("svg-icon"),f=R("SkyButton");return S(),E("div",xs,[(S(),X(ot(w(s)),{key:w(a)})),w(r)?pe("",!0):(S(),E("div",Cs,[_e(b("div",ks,[$s,d(g,{value:w(o).opacity,"onUpdate:value":_[0]||(_[0]=v=>w(o).opacity=v),min:0,max:1,"show-tooltip":!1,class:"w-28"},null,8,["value"]),d(x,{value:Math.round(w(o).opacity*100),min:0,max:100,size:"small",class:"w-12",onChange:c},null,8,["value"])],512),[[ye,w(i)]]),b("div",Es,[d(f,{plain:"",onClick:u},{default:z(()=>[d(y,{content:w(o).lock?"\u89E3\u9501":"\u9501\u5B9A"},null,8,["content"]),d(m,{filename:w(o).lock?"locked":"unlock"},null,8,["filename"])]),_:1}),d(f,{plain:"",disabled:w(o).lock,onPointerdown:_[1]||(_[1]=Te(v=>n.value=!n.value,["stop"]))},{default:z(()=>[d(y,{content:"\u56FE\u5C42\u987A\u5E8F"}),d(m,{filename:"layer"})]),_:1},8,["disabled"]),d(Ss,{visible:n.value,"onUpdate:visible":_[2]||(_[2]=v=>n.value=v)},null,8,["visible"]),d(f,{plain:"",disabled:w(o).lock,onClick:p},{default:z(()=>[d(y,{content:"\u590D\u5236",disabled:w(o).lock},null,8,["disabled"]),d(m,{filename:"copy"})]),_:1},8,["disabled"]),d(f,{plain:"",disabled:w(o).lock,onClick:h},{default:z(()=>[d(y,{content:"\u5220\u9664",disabled:w(o).lock},null,8,["disabled"]),d(m,{filename:"trash"})]),_:1},8,["disabled"])])]))])}}const zs=Object.assign(Ms,{setup:Is}),Rs=e=>e.classList.contains("sky-cloud"),Ts=e=>{var t;return!((t=e.parentElement)==null?void 0:t.classList.contains("sky-renderer"))},We=e=>e.classList.contains("sky-background"),Bs=e=>e.classList.contains("sky-cloud-lock"),vt=e=>{for(;e&&!e.dataset.cloudId&&!Rs(e);)e=e.parentElement;return e},Ke=e=>(e=vt(e),e&&(Ts(e)&&e.parentElement?Ke(e.parentElement):e));const Os={name:"SkyEditor"};function Hs(e,{expose:t}){const l=te("sky");l.vm=ke();const n=H(null),o=H(null);let s=null,a=null,r=!1;const i=A(()=>({width:`${l.state.width}px`,height:`${l.state.height}px`}));ie(()=>{l.moveable.createInstance(n.value)}),ce([()=>l.state.clouds,()=>l.state.background],()=>{l.history.unshift()},{immediate:!0,deep:!0});async function c(){r=!0;const[h]=a;!h||We(h)||Bs(h)||(await l.moveable.setTarget(a),l.moveable.instance.dragStart(s))}async function u(h){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),r?r=!1:(await l.moveable.setTarget(a),l.cloud.setSelectCloud(h)),s=null,a=null}function p(h){s=h,a=l.moveable.getTarget(h),document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}return t({elSkyRenderer:o}),(h,C)=>{const _=R("sky-renderer"),g=R("ControlPanelContainer");return S(),E("div",{ref:(x,y)=>{y.elRoot=x,n.value=x},class:"sky-editor",style:V(w(i))},[d(_,{ref:(x,y)=>{y.elSkyRenderer=x,o.value=x},background:w(l).state.background,clouds:w(l).state.clouds,scale:w(l).state.scale,onMousedown:p},null,8,["background","clouds","scale"]),d(g,{class:"sky-control-panel"})],4)}}const As=Object.assign(Os,{setup:Hs});var _t=F(As,[["__scopeId","data-v-8b06a126"]]);const yt="sky-cloud-lock",Ps=["nw","ne","sw","se"],{toString:Ds,hasOwnProperty:Ls}=Object.prototype,Vs=e=>Ds.call(e).slice(8,-1),js=(e,t)=>Ls.call(e,t),He=()=>Date.now().toString(36)+Math.random().toString(36).slice(2,9),Q=e=>Vs(e)==="Number"?`${e}px`:e,bt=(e,t)=>e.filter(l=>!t.includes(l)),Ns=e=>e.filter((t,l,n)=>n.indexOf(t)===l),Fs=(e,t)=>e.length===t.length&&Ns([...e,...t]).length===e.length,Gs=(e,t)=>e/t,qs=(e,t)=>e*t,we=(e,t,l)=>qs(Gs(e,t),l),wt=e=>e.metaKey||e.shiftKey||e.ctrlKey,Us=e=>({width:Q(e.width),height:Q(e.height),top:Q(e.top),left:Q(e.left),transform:e.transform}),Ws=["id","data-cloud-id"],Ks=b("i",{class:"border-before"},null,-1),Ys={name:"Cloud",inheritAttrs:!1};function Xs(e){const t=e,l=te("sky"),n=te("SkyCloudComponents"),o=H(),s=H(),a=A(()=>({opacity:t.cloud.opacity}));ie(()=>{const c=ke();l.cloudVM[t.cloud.id]=c,l.birdVM[t.cloud.id]=c.subTree.children[0].component,Object.assign(o.value.style,Us(t.cloud))}),De(()=>{Reflect.deleteProperty(l.cloudVM,t.cloud.id)});function r(c){return{[yt]:c.lock}}function i(c){return n[c]}return(c,u)=>(S(),E("div",{ref:(p,h)=>{h.elRoot=p,o.value=p},class:U(["sky-cloud",r(e.cloud)]),style:V(w(a)),id:e.cloud.id,"data-cloud-id":e.cloud.id},[(S(),X(ot(i(e.cloud.type)),ee({ref:(p,h)=>{h.elCloud=p,s.value=p},cloud:e.cloud,class:"sky-bird"},c.$attrs),null,16,["cloud"])),Ks],14,Ws))}const St=Object.assign(Ys,{props:{cloud:{type:Object,require:!0,default:()=>({})}},setup:Xs}),Js=["id","data-cloud-id"],Qs=b("i",{class:"border-before"},null,-1),Zs={name:"Clouds",inheritAttrs:!1};function ea(e){const t=e,l=te("sky");onMounted(()=>{l.cloudVM[t.cloud.id]=l.birdVM[t.cloud.id]=ke()}),onBeforeUnmount(()=>{Reflect.deleteProperty(l.cloudVM,t.cloud.id)});function n(o){return{[yt]:o.lock}}return(o,s)=>{const a=R("Clouds",!0);return S(),E("div",{class:U([n(e.cloud),"sky-cloud sky-clouds sky-bird"]),id:e.cloud.id,"data-cloud-id":e.cloud.id},[b("div",null,[(S(!0),E(J,null,se(e.cloud.clouds,r=>(S(),E(J,{key:r.id},[r.type==="clouds"?(S(),X(a,ee({key:0,cloud:r},o.$attrs),null,16,["cloud"])):(S(),X(St,ee({key:1,cloud:r},o.$attrs),null,16,["cloud"]))],64))),128))]),Qs],10,Js)}}const ta=Object.assign(Zs,{props:{cloud:{type:Object,required:!0}},setup:ea}),na={name:"SkyRenderer",inheritAttrs:!1};function oa(e){const t=e,l=A(()=>({width:`${sky.state.width}px`,height:`${sky.state.height}px`})),n=A(()=>{var o;return{background:t.background.color,opacity:(o=t.background.opacity)!=null?o:1}});return(o,s)=>(S(),E("div",{class:"sky-renderer",style:V(w(l))},[b("div",{class:"sky-background",style:V(w(n))},null,4),(S(!0),E(J,null,se(e.clouds,(a,r,i,c)=>{const u=[a.id];if(c&&Wt(c,u))return c;const p=(S(),E(J,null,[a.type==="clouds"?(S(),X(ta,ee({key:0,key:a.id,cloud:a},o.$attrs),null,16,["cloud"])):(S(),X(St,ee({key:1,key:a.id,cloud:a},o.$attrs),null,16,["cloud"]))],64));return p.memo=u,p},s,0),256))],4))}const xt=Object.assign(na,{props:{background:{type:Object,required:!0},clouds:{type:Array,default:()=>[]}},setup:oa}),la={install(e,t){e.component(xt.name,xt),e.provide("SkyCloudComponents",t)}};function sa(e){const t={};return t.setBackground=l=>{Object.assign(e.state.background,l)},t.zoom=(l=1)=>{if(l===0||l===e.state.scale)return;const n=o=>{o.forEach(async s=>{const a=we(s.width,e.state.scale,l),r=we(s.height,e.state.scale,l),i=we(s.top,e.state.scale,l),c=we(s.left,e.state.scale,l);s.width=a,s.height=r,s.top=i,s.left=c,s.clouds&&s.clouds.length>0&&n(s.clouds)})};n(e.state.clouds),e.cloud.updateCloudsElementRect(e.state.clouds),e.state.width=we(e.state.width,e.state.scale,l),e.state.height=we(e.state.height,e.state.scale,l),e.vm.ctx.$nextTick(()=>{e.moveable.instance.updateRect()})},t}function aa(e){const t={};t.getClouds=()=>{const{scale:n,clouds:o}=e.state,s=JSON.parse(JSON.stringify(o)),a=r=>{r.forEach(i=>{i.top=i.top/n,i.left=i.left/n,i.width=i.width/n,i.height=i.height/n,i.clouds&&i.clouds.length>0&&a(i.clouds)})};return a(s),s},t.getOverlappingClouds4Point=n=>{const{clientX:o,clientY:s}=n,a=r=>{const i=e.cloud.queryCloudElementById(r.id),c=i==null?void 0:i.getBoundingClientRect();if(!c)return!1;const u=o>=c.left&&o<=c.right,p=s>=c.top&&s<=c.bottom;return u&&p};return e.state.clouds.filter(a)},t.updateCloudsElementRect=(n=e.runtime.targetClouds)=>{n.forEach(o=>{const s=e.cloud.queryCloudElementById(o.id);!s||(s.style.top=Q(o.top),s.style.left=Q(o.left),s.style.width=Q(o.width),s.style.height=Q(o.height),e.moveable.instance.updateTarget(),o.clouds&&o.clouds.length>0&&t.updateCloudsElementRect(o.clouds))}),e.moveable.instance.updateRect()},t.getOverlappingClouds4Cloud=()=>{const n=e.moveable.instance.getRect(),o=n.left,s=n.left+n.width,a=n.top,r=n.top+n.height,i=p=>p>=o&&p<=s,c=p=>p>=a&&p<=r,u=(p,h)=>i(p)&&c(h);return e.state.clouds.filter(({top:p,left:h,width:C,height:_})=>{const g=h,x=h+C,y=p,m=p+_;return u(g,y)||u(x,y)||u(g,m)||u(x,m)||y<a&&m>r&&i(g)||g<o&&x>s&&c(y)})},t.findCloudById=(n,o=e.state.clouds)=>{if(!n)return;let s=o.find(a=>a.id===n);if(s)return s;for(let a=0;a<o.length;a+=1)if(Array.isArray(o[a].clouds)&&(s=t.findCloudById(n,o[a].clouds),s))return s},t.findCloudByElement=n=>{const o=Ke(n);if(!!o)return t.findCloudById(o.dataset.cloudId)},t.queryCloudElementById=n=>e.vm.ctx.$el.querySelector(`[data-cloud-id="${n}"]`);const l=n=>{if(!n)return null;const[o]=e.runtime.targetClouds;if(!o||!t.isCloudsObject(o)||wt(n))return null;const s=vt(n.target);if(!s)return null;const a=t.findCloudById(s.dataset.cloudId,o.clouds);return(a==null?void 0:a.pid)?a:null};return t.setSelectCloud=n=>{var a,r,i,c,u,p,h,C,_,g,x;const o=l(n),s=e.runtime.selectCloud;s!==o&&(e.runtime.selectCloud=o,(a=e.vm.ctx.$el.querySelector(".sky-cloud-select"))==null||a.classList.remove("sky-cloud-select"),s&&((p=(u=(c=(i=(r=e.cloudVM[s.id])==null?void 0:r.exposed)==null?void 0:i.skyHooks)==null?void 0:c.moveable)==null?void 0:u.onLeaveSelect)==null||p.call(u)),o&&((h=e.cloud.queryCloudElementById(o.id))==null||h.classList.add("sky-cloud-select"),(x=(g=(_=(C=e.cloudVM[o.id].exposed)==null?void 0:C.skyHooks)==null?void 0:_.moveable)==null?void 0:g.onEnterSelect)==null||x.call(g)))},t.create=n=>(n=JSON.parse(JSON.stringify(n)),Object.assign({pid:"",width:100,height:100,top:e.state.height/2-n.height/2,left:e.state.width/2-n.width/2,angle:0,lock:!1,opacity:1,transform:""},n,{id:He()})),t.push=async(...n)=>{e.state.clouds.push(...n),await e.vm.ctx.$nextTick(),await e.moveable.setTarget(n.map(o=>e.cloud.queryCloudElementById(o.id)))},t.lock=()=>{e.runtime.targetClouds.length!==0&&(e.runtime.targetClouds.forEach(n=>{n.lock=!0}),e.moveable.updateState())},t.unlock=()=>{e.runtime.targetClouds.length!==0&&(e.runtime.targetClouds.forEach(n=>{n.lock=!1}),e.moveable.updateState())},t.delete=async({force:n=!1}={})=>{if(e.runtime.targetClouds.length===0)return;const[o]=e.runtime.targetClouds;if(o.lock&&!n)return;const s=e.runtime.targetClouds.map(a=>a.id);await e.moveable.setTarget([]),s.forEach(a=>{const r=e.state.clouds.findIndex(i=>i.id===a);e.state.clouds.splice(r,1)})},t.copy=()=>{if(e.runtime.targetClouds.length!==0)return e.runtime.clipboard=JSON.stringify(e.runtime.targetClouds),e.runtime.clipboard},t.paste=async()=>{if(!e.runtime.clipboard)return;const n=i=>{var c;(c=i.clouds)==null||c.forEach(u=>{u.pid=i.id,u.id=He(),t.isCloudsObject(u)&&n(u)})},o=JSON.parse(e.runtime.clipboard),s={top:Math.min(...o.map(i=>i.top)),left:Math.min(...o.map(i=>i.left))},a=e.runtime.targetClouds.length>0?e.moveable.instance.getRect():s,r={top:a.top-s.top,left:a.left-s.left};o.forEach(i=>{i.id=He(),i.top+=r.top+10,i.left+=r.left+10,t.isCloudsObject(i)&&n(i)}),await t.push(...o),t.copy()},t.cut=()=>{!t.copy()||t.delete()},t.toGroup=async()=>{const{top:n,left:o,width:s,height:a}=e.moveable.instance.getRect(),r=[...e.runtime.targetClouds],i=He();t.delete({force:!0}),r.forEach(c=>{c.pid=i,c.top=c.top-n,c.left=c.left-o}),await t.push({id:i,top:n,left:o,width:s,height:a,clouds:r,pid:"",type:"clouds",lock:!1,transform:""})},t.unGroup=async()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const{clouds:o,top:s,left:a}=n[0];!o||(t.delete({force:!0}),o.forEach(r=>{r.pid="",r.top=r.top+s,r.left=r.left+a}),t.push(...o))},t.moveTop=()=>{const{clouds:n}=e.state,{targetClouds:o}=e.runtime;n.push(...o),o.forEach(s=>{const a=n.findIndex(r=>r.id===s.id);n.splice(a,1)})},t.moveUp=()=>{const{clouds:n}=e.state,{targetClouds:o}=e.runtime,[s]=o.slice(-1),a=t.getOverlappingClouds4Cloud(),r=a.findIndex(u=>u.id===s.id);let i;r+1>=a.length?i=s:i=a[r+1];const c=n.findIndex(u=>u.id===i.id);n.splice(c+1,0,...o),o.forEach(u=>{const p=n.findIndex(h=>h.id===u.id);n.splice(p,1)})},t.moveDown=()=>{const{clouds:n}=e.state,{targetClouds:o}=e.runtime,[s]=o,a=t.getOverlappingClouds4Cloud(),r=a.findIndex(u=>u.id===s.id);let i;r===0?i=s:i=a[r-1];const c=n.findIndex(u=>u.id===i.id);o.forEach(u=>{const p=n.findIndex(h=>h.id===u.id);n.splice(p,1)}),n.splice(c,0,...o)},t.moveBottom=()=>{const{clouds:n}=e.state,{targetClouds:o}=e.runtime;o.reverse().forEach(s=>{const a=n.findIndex(r=>r.id===s.id);n.splice(a,1)}),n.unshift(...o.reverse())},t.isCloudsObject=n=>n.type==="clouds"&&Reflect.has(n,"clouds"),t.alignTop=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.min(...n.map(s=>s.top));n.forEach(s=>{s.top=o}),e.cloud.updateCloudsElementRect()},t.alignVerticalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.min(...n.map(r=>r.top)),s=Math.max(...n.map(r=>r.top+r.height)),a=o+(s-o)/2;n.forEach(r=>{r.top=a-r.height/2}),e.cloud.updateCloudsElementRect()},t.alignBottom=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.max(...n.map(s=>s.top+s.height));n.forEach(s=>{s.top=o-s.height}),e.cloud.updateCloudsElementRect()},t.alignHorizontalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.min(...n.map(r=>r.left)),s=Math.max(...n.map(r=>r.left+r.width)),a=o+(s-o)/2;n.forEach(r=>{r.left=a-r.width/2}),e.cloud.updateCloudsElementRect()},t.alignLeft=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.min(...n.map(s=>s.left));n.forEach(s=>{s.left=o}),e.cloud.updateCloudsElementRect()},t.alignRight=()=>{const{targetClouds:n}=e.runtime;if(n.length<=1)return;const o=Math.max(...n.map(s=>s.left+s.width));n.forEach(s=>{s.left=o-s.width}),e.cloud.updateCloudsElementRect()},t.alignEditorTop=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(o=>{o.top=0}),e.cloud.updateCloudsElementRect())},t.alignEditorVerticalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const o=e.state.height/2;n.forEach(s=>{s.top=o-s.height/2}),e.cloud.updateCloudsElementRect()},t.alignEditorBottom=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(o=>{o.top=e.state.height-o.height}),e.cloud.updateCloudsElementRect())},t.alignEditorLeft=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(o=>{o.left=0}),e.cloud.updateCloudsElementRect())},t.alignEditorHorizontalMiddle=()=>{const{targetClouds:n}=e.runtime;if(n.length===0)return;const o=e.state.width/2;n.forEach(s=>{s.left=o-s.width/2}),e.cloud.updateCloudsElementRect()},t.alignEditorRight=()=>{const{targetClouds:n}=e.runtime;n.length!==0&&(n.forEach(o=>{o.left=e.state.width-o.width}),e.cloud.updateCloudsElementRect())},t}const ia=(e=0)=>new Promise(t=>setTimeout(t,e)),ra={"-1,-1":"nw","0,-1":"n","1,-1":"ne","1,0":"e","1,1":"se","0,1":"s","-1,1":"sw","-1,0":"w"},ca=["n","nw","ne","s","se","sw","e","w"],ua=e=>{const{top:t,left:l,width:n,height:o}=e,s=l+n,a=t+o;return{pos1:[l,t],pos2:[s,t],pos3:[l,a],pos4:[s,a]}};function da(e){const t={};t.updateState=async()=>{var v,k,M,B,$;const{target:g}=t.instance;if(!Array.isArray(g)||g.length===0)return;const[x]=g,y=e.cloud.findCloudById(x.dataset.cloudId),m=y?!y.lock:!1;t.instance.draggable=m,t.instance.resizable=m,t.instance.rotatable=m,t.instance.origin=m,y?(g.length>1?t.instance.renderDirections=Ps:t.instance.renderDirections=($=(B=(M=(k=(v=e.birdVM[x.dataset.cloudId])==null?void 0:v.exposed)==null?void 0:k.skyHooks)==null?void 0:M.moveable)==null?void 0:B.renderDirections)!=null?$:ca,t.instance.passDragArea=!m):t.instance.passDragArea=!0;const f=[];(y==null?void 0:y.lock)&&f.push("lock"),t.instance.className=f.join(" ")},t.getTarget=g=>{const{target:x}=t.instance;if(!Array.isArray(x))return[];let y=[...x];const m=We(g.target);let f=null;if(m)f=g.target;else if(f=Ke(g.target),!f)return[];if(wt(g)){if(m)return x;if(We(x[0])&&f)return[f];const v=e.cloud.findCloudByElement(g.target);if(!v)return[];if(v.lock||e.runtime.targetClouds[0].lock)return x;const k=y.findIndex(M=>M===f);k<0?y.push(f):y.splice(k,1)}else y=[f];return y},t.setTarget=async g=>{const x=t.instance.target;if(g){if(!Array.isArray(x)||Fs(g,x))return;t.instance.target=g,await ia();const y=g.map(v=>e.cloud.findCloudById(v.dataset.cloudId));e.runtime.targetClouds=e.state.clouds.filter(v=>y.includes(v)),e.cloud.setSelectCloud(null),bt(x,g).forEach(v=>{var M,B,$,I;const k=e.birdVM[v.dataset.cloudId];(I=($=(B=(M=k==null?void 0:k.exposed)==null?void 0:M.skyHooks)==null?void 0:B.moveable)==null?void 0:$.onLeaveTarget)==null||I.call($)}),bt(g,x).forEach(v=>{var M,B,$,I;const k=e.birdVM[v.id];(I=($=(B=(M=k==null?void 0:k.exposed)==null?void 0:M.skyHooks)==null?void 0:B.moveable)==null?void 0:$.onEnterTarget)==null||I.call($)}),e.state.clouds.forEach(v=>{var M,B,$,I;const k=e.birdVM[v.id];(I=($=(B=(M=k==null?void 0:k.exposed)==null?void 0:M.skyHooks)==null?void 0:B.moveable)==null?void 0:$.onChangeTarget)==null||I.call($)})}else{if(t.instance.target=[],!Array.isArray(x))return;x.forEach(y=>{var f,v,k,M;const m=e.birdVM[y.id];(M=(k=(v=(f=m==null?void 0:m.exposed)==null?void 0:f.skyHooks)==null?void 0:v.moveable)==null?void 0:k.onLeaveTarget)==null||M.call(k)})}t.updateState()};const l=()=>{const{target:g}=t.instance;if(!Array.isArray(g))return;const x=t.instance.getRect(),y={pos1:x.pos1,pos2:x.pos2,pos3:x.pos3,pos4:x.pos4},m=[];e.state.clouds.forEach(f=>{if(g.findIndex($=>$.dataset.cloudId===f.id)>=0)return;const k=ua(f),M=[];Object.values(y).forEach($=>{Object.values(k).forEach(I=>{const O=Math.abs($[0]-I[0]),G=Math.abs($[1]-I[1]);M.push(Math.sqrt(O*O+G*G))})});const B=Math.min(...M);js(f,"minDistance")?f.minDistance=B:Object.defineProperty(f,"minDistance",{value:B,writable:!0}),m.push(f)}),m.sort((f,v)=>f.minDistance-v.minDistance),t.instance.elementGuidelines=m.slice(0,5).map(f=>e.cloud.queryCloudElementById(f.id))},n=g=>{const{target:x,top:y,left:m}=g;x.style.top=Q(y),x.style.left=Q(m);const f=e.state.clouds.find(v=>v.id===x.id);!f||(f.top=y,f.left=m,l())},o=g=>{g.events.forEach(n)},s=g=>{var v,k,M,B,$,I,O,G,q,j;const{target:x,datas:y,direction:m}=g,f=e.cloud.findCloudById(x.dataset.cloudId);!f||(y.targetCloud=f,y.startTop=f.top,y.startLeft=f.left,y.startWidth=f.width,y.startHeight=f.height,y.isClouds=e.cloud.isCloudsObject(f),y.birdVM=e.birdVM[f.id],t.instance.keepRatio=($=(B=(M=(k=(v=y.birdVM)==null?void 0:v.exposed)==null?void 0:k.skyHooks)==null?void 0:M.moveable)==null?void 0:B.keepRatio)==null?void 0:$.includes(Reflect.get(ra,m.join())),(j=(q=(G=(O=(I=y.birdVM)==null?void 0:I.exposed)==null?void 0:O.skyHooks)==null?void 0:G.moveable)==null?void 0:q.onResizeStart)==null||j.call(q,g))},a=g=>{var k,M,B,$,I;const{target:x,width:y,height:m,drag:f,datas:v}=g;v.scale=[y/v.startWidth,m/v.startHeight],x.style.width=Q(y),x.style.height=Q(m),v.targetCloud.width=y,v.targetCloud.height=m,v.isClouds&&(x.firstElementChild.style.transform=`scale(${v.scale[0]}, ${v.scale[1]})`,x.firstElementChild.style.transformOrigin="left top"),(I=($=(B=(M=(k=v.birdVM)==null?void 0:k.exposed)==null?void 0:M.skyHooks)==null?void 0:B.moveable)==null?void 0:$.onResize)==null||I.call($,g),n(f)},r=g=>{var f,v,k,M,B;const{target:x,datas:y}=g,m=$=>{$.forEach(I=>{var G,q,j;I.top=I.top*y.scale[1],I.left=I.left*y.scale[0],I.width=I.width*y.scale[0],I.height=I.height*y.scale[1];const O=e.cloud.queryCloudElementById(I.id);if(!!O)if(O.style.top=Q(I.top),O.style.left=Q(I.left),O.style.width=Q(I.width),O.style.height=Q(I.height),I.clouds)m(I.clouds);else{const K=e.birdVM[I.id];(j=(q=(G=K==null?void 0:K.exposed)==null?void 0:G.moveable)==null?void 0:q.onResizeEndInGroup)==null||j.call(q,g)}})};y.isClouds&&(x.firstElementChild.style.transform="",x.firstElementChild.style.transformOrigin="",m(y.targetCloud.clouds)),(B=(M=(k=(v=(f=y.birdVM)==null?void 0:f.exposed)==null?void 0:v.skyHooks)==null?void 0:k.moveable)==null?void 0:M.onResizeEnd)==null||B.call(M,g)},i=g=>{g.events.forEach(s),e.moveable.instance.keepRatio=!0},c=g=>{g.events.forEach(a)},u=g=>{const{target:x,drag:y,absoluteRotate:m}=g;x.style.transform=y.transform;const f=e.state.clouds.find(v=>v.id===x.dataset.cloudId);!f||(f.transform=y.transform,f.rotate=m)},p=g=>{g.events.forEach(u)},h=()=>{e.history.disable=!0},C=g=>{e.history.disable=!1,!!g.isDrag&&e.history.unshift()},_=g=>{var m,f,v,k;const x=t.getTarget(g.inputEvent);t.setTarget(x),e.cloud.setSelectCloud(g.inputEvent);const y=e.birdVM[g.target.dataset.cloudId];(k=(v=(f=(m=y==null?void 0:y.exposed)==null?void 0:m.skyHooks)==null?void 0:f.moveable)==null?void 0:v.onClick)==null||k.call(v,g.inputEvent)};return t.createInstance=g=>{window.moveableInstance=t.instance=new Kt(g,{target:[],snappable:!0,snapCenter:!0,dragArea:!0,horizontalGuidelines:[0,g.offsetWidth],verticalGuidelines:[0,g.offsetHeight]}),t.instance.on("drag",n),t.instance.on("dragGroup",o),t.instance.on("resizeStart",s),t.instance.on("resize",a),t.instance.on("resizeEnd",r),t.instance.on("resizeGroupStart",i),t.instance.on("resizeGroup",c),t.instance.on("rotate",u),t.instance.on("rotateGroup",p),t.instance.on("renderStart",h),t.instance.on("renderEnd",C),t.instance.on("renderGroupStart",h),t.instance.on("renderGroupEnd",C),t.instance.on("click",_),t.instance.on("clickGroup",_),t.updateState()},t}function fa(e){const t={instance:null};let l=!1;const n=async()=>{l=!0,await e.moveable.setTarget([])},o=async()=>{l||await e.moveable.setTarget([]),l=!1},s=i=>{const c=document.querySelector(".moveable-control-box"),u=document.querySelector(".sky-control-panel");if((c==null?void 0:c.contains(i.inputEvent.target))||(u==null?void 0:u.contains(i.inputEvent.target)))return i.stop();document.addEventListener("mousemove",n,{once:!0}),document.addEventListener("mouseup",o,{once:!0})},a=async i=>{await e.moveable.setTarget([...i.selected])},r=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mousemove",o)};return t.createInstance=i=>{t.instance=new Yt({container:i,selectableTargets:[".sky-cloud"],selectByClick:!1,selectFromInside:!1,hitRate:0,getElementRect:Xt}),t.instance.on("dragStart",s),t.instance.on("select",a),t.instance.on("selectEnd",r)},new Proxy(t,{get(i,c){return Reflect.has(i,c)?Reflect.get(i,c):Reflect.get(t.instance,c)},set(i,c,u){return Reflect.has(i,c)?Reflect.set(i,c,u):Reflect.set(i.instance,c,u),!0}})}let Ct;function pa(e){const t={stacks:[],pointer:0,disable:!1,delay:500},l=n=>{t.pointer=n;const o=JSON.parse(t.stacks[n]);!o||(t.disable=!0,e.state.scale=o.scale,e.state.clouds=o.clouds,e.editor.setBackground(o.background),setTimeout(async()=>{const s=o.targetClouds.map(a=>e.cloud.queryCloudElementById(a.id));await e.moveable.setTarget(s),e.cloud.updateCloudsElementRect(o.clouds),e.moveable.instance.updateRect(),t.disable=!1}))};return t.unshift=()=>{t.disable||(clearTimeout(Ct),Ct=setTimeout(()=>{t.pointer>0&&t.stacks.splice(0,t.pointer),t.stacks.unshift(JSON.stringify(e.state)),t.pointer>0&&(t.pointer=0);const{maxHistoryStack:n}=e.options;n&&t.stacks.length>n&&t.stacks.pop()},t.delay))},t.back=()=>{const n=t.pointer+1;n>=t.stacks.length||l(n)},t.forward=()=>{const n=t.pointer-1;n<0||l(n)},t}function ha(e){var l;e=de({maxHistoryStack:20},e);const t={options:e,vm:null,cloudVM:{},birdVM:{}};return t.state={width:800,height:800,scale:1,background:{color:"#ffffff00",opacity:1},clouds:[]},t.runtime={targetClouds:[],selectCloud:null,clipboard:""},t.editor=sa(t),t.cloud=aa(t),t.moveable=da(t),t.selecto=fa(t),t.history=pa(t),t.setState=async n=>{Reflect.has(n,"width")&&(t.moveable.instance.verticalGuidelines=[0,n.width]),Reflect.has(n,"height")&&(t.moveable.instance.horizontalGuidelines=[0,n.height]),Reflect.has(n,"scale")&&t.editor.zoom(n.scale),Reflect.has(n,"clouds")&&await t.moveable.setTarget([]),Object.assign(t.state,n)},(l=e.initMousetrap)==null||l.call(e,t),t}const ma={install(e,t,l){t.state=$e(t.state),t.runtime=$e(t.runtime),e.config.globalProperties.$sky=t,e.use(la,l.components),e.component(_t.name,_t),l.ControlPanelContainer&&e.component(l.ControlPanelContainer.name,l.ControlPanelContainer),e.provide("sky",t)}},oe=navigator.platform.toUpperCase().indexOf("MAC")>=0,kt="SKY_DATA",ga=()=>{const e=localStorage.getItem(kt);if(!!e)return JSON.parse(e)},$t=e=>{localStorage.setItem(kt,JSON.stringify(e))};function va(e){N.bind("up",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:-1},!0)}),N.bind("shift+up",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:-10},!0)}),N.bind(`${oe?"command":"ctrl"}+up`,t=>{t.preventDefault(),e.cloud.moveUp()}),N.bind(`${oe?"command":"ctrl"}+shift+up`,t=>{t.preventDefault(),e.cloud.moveTop()}),N.bind("right",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:1},!0)}),N.bind("shift+right",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:10},!0)}),N.bind(`${oe?"command":"ctrl"}+right`,t=>{t.preventDefault()}),N.bind("down",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:1},!0)}),N.bind("shift+down",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaY:10},!0)}),N.bind(`${oe?"command":"ctrl"}+down`,t=>{t.preventDefault(),e.cloud.moveDown()}),N.bind(`${oe?"command":"ctrl"}+shift+down`,t=>{t.preventDefault(),e.cloud.moveBottom()}),N.bind("left",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:-1},!0)}),N.bind("shift+left",t=>{t.preventDefault(),e.moveable.instance.request("draggable",{deltaX:-10},!0)}),N.bind(`${oe?"command":"ctrl"}+left`,t=>{t.preventDefault()}),N.bind(["backspace","del"],t=>{t.preventDefault(),e.cloud.delete()}),N.bind(`${oe?"command":"ctrl"}+c`,t=>{t.preventDefault(),e.cloud.copy()}),N.bind(`${oe?"command":"ctrl"}+v`,t=>{t.preventDefault(),e.cloud.paste()}),N.bind(`${oe?"command":"ctrl"}+x`,t=>{t.preventDefault(),e.cloud.cut()}),N.bind(`${oe?"command":"ctrl"}+z`,t=>{t.preventDefault(),e.history.back()}),N.bind(`${oe?"command":"ctrl"}+shift+z`,t=>{t.preventDefault(),e.history.forward()}),N.bind(`${oe?"command":"ctrl"}+s`,t=>{t.preventDefault(),$t(e.state)}),N.bind(`${oe?"command":"ctrl"}+a`,async t=>{t.preventDefault();const l=document.querySelector(".sky-editor__app .sky-renderer");if(!l)return;const n=Array.from(l.children).filter(o=>o.dataset.cloudId);await e.moveable.setTarget(n)})}const Me=ha({initMousetrap:va});window.sky=Me;var _a={install(e){e.use(ma,Me,{ControlPanelContainer:zs,components:{[ue.text]:Xo,[ue.image]:ll}})}};async function ya(e){return await window.PSD.fromURL(e)}function ba(e){const[t,l,n]=e;let[,,,o]=e;return o>1&&(o=o/255),[t,l,n,o]}function wa(e){const[t,l,n,o]=e;return[o*255,n*255,l*255,t]}const Sa={InsF:"inner",CtrF:"center",OutF:"outer"};function xa({xx:e,xy:t}){const l=Math.sqrt(e*e+t*t),n=Math.asin(t/l)*180/Math.PI;return{scale:l,angle:n}}function Ca({xx:e,xy:t,yx:l,yy:n,tx:o,ty:s}){return{a:e,b:t,c:l,d:n,tx:o,ty:s}}function ka(e,t){const{objectEffects:l,typeTool:n}=t.adjustments,{StyleRun:o}=n.engineData.EngineDict;let s=0;const a=o.RunArray.map((u,p)=>{const h=o.RunLengthArray[p],C={text:e.text.value.substr(s,h),fontSize:u.StyleSheet.StyleSheetData.FontSize},{FillColor:_}=u.StyleSheet.StyleSheetData;return _&&(C.color=Be(...wa(_.Values))),s+=h,C}),r=[],i=[];if(l){const{FrFX:u,DrSh:p}=l.data;u&&r.push({type:Reflect.get(Sa,u.Styl.value),width:u["Sz  "].value,color:[u["Clr "]["Rd  "],u["Clr "]["Grn "],u["Clr "]["Bl  "],u.Opct.value/100]}),p&&i.push({color:[p["Clr "]["Rd  "],p["Clr "]["Grn "],p["Clr "]["Bl  "],p.Opct.value/100],distance:p.Dstn.value,blur:p.blur.value,angle:p.lagl.value})}const{angle:c}=xa(n.transform);return{type:ue.text,width:e.width,height:e.height,top:e.top,left:e.left,text:e.text.value,opacity:e.opacity,textAlign:e.text.font.alignment[0],fontFamily:n.fonts()[0].slice(1).replace("\0",""),fontSize:e.text.font.sizes[0],color:Be(...ba(e.text.font.colors[0])),textDecoration:o.RunArray[0].StyleSheet.StyleSheetData.Underline?"underline":"",writingMode:n.obj.textData.Ornt.value==="Hrzn"?"horizontal-tb":"vertical-rl",fontWeight:"",fontStyle:"",texts:a,strokes:r,shadows:i,angle:c,transform:Ca(n.transform)}}function Et(e,t){return{src:t.image.toBase64(),type:ue.image,width:e.width,height:e.height,top:e.top,left:e.left,opacity:e.opacity}}function $a(e,t){return t.typeTool?ka(e,t):Et(e,t)}async function Ea(e){const{children:t,document:l}=e.tree().export(),n=i=>e.layers.find(c=>c.name===i.name&&c.top===i.top&&c.right===i.right&&c.bottom===i.bottom&&c.left===i.left&&c.width===i.width&&c.height===i.height);console.info("children, document",e,t,l);const o={color:"#ffffff00",image:"",opacity:1},[s]=t.slice(-1);if(["Background","background","\u80CC\u666F"].includes(s.name)){const i=n(s),c=Et(s,i);o.opacity=c.opacity,o.image=c.src,t.pop()}const a={background:o,width:l.width,height:l.height,clouds:[]},r=i=>{i.forEach(c=>{if(c.type==="group"&&Array.isArray(c.children))return r(c.children);const u=n(c);if(!u)return;const p=$a(c,u);a.clouds.unshift(p)})};return r(t),a}async function Ma(e){const t=URL.createObjectURL(e),l=await ya(t);return URL.revokeObjectURL(t),Ea(l)}const Ia=(e,t)=>{const{clientWidth:l,clientHeight:n}=document.querySelector(".app-main");let o=l,s=e;const a=e/l;t/n>a&&(o=n,s=t);let i=o/(s+40);return i=Math.floor(i/5*100),i=i*5/100,i},za=(e={})=>{const{scale:t}=Me.state,l=de({fontFamily:"SourceHanSansSC-Regular",fontSize:60,textAlign:"left",color:"#000000ff",textDecoration:"none",writingMode:"",fontWeight:400,fontStyle:"normal",lineHeight:1,letterSpacing:0,shadows:[],strokes:[],text:"0\u70B91\u51FB2\u7F163\u8F914\u65875\u5B576",texts:[{text:"0\u70B91\u51FB2\u7F163\u8F914\u65875\u5B576"}],type:ue.text,width:360*t,height:60*t},e);Me.cloud.push(Me.cloud.create(l))};function Ye(e){return e.replace(/\n+/g,"").replace(/\/\*.+?\*\//g,"")}Ye(ct)+Ye(dt)+Ye(ut);function Ra(e){const t=e.cloneNode(!0),n=new XMLSerializer().serializeToString(t);return`
    <svg
      xmlns='http://www.w3.org/2000/svg'
      width='${e.clientWidth}'
      height='${e.clientHeight}'
    >
      <style>
      </style>
      <foreignObject
        x='0'
        y='0'
        width='100%'
        height='100%'
      >
        ${n}
      </foreignObject>
    </svg>
  `}function Ta(e){return new Promise(t=>{const l=document.querySelector(".sky-renderer"),n=document.createElement("canvas");n.width=l.clientWidth,n.height=l.clientHeight;const o=n.getContext("2d"),s=new Image;s.onload=()=>{o.drawImage(s,0,0),n.toBlob(a=>{t(a),s.remove(),n.remove()})},s.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`})}const Ba={class:"app-header"},Oa=Z("Back"),Ha=Z("Forward"),Aa=Z("viewport-"),Pa=Z("viewport+"),Da=Z("Save"),La=Z("Adaptive"),Va=Z("Add Text"),ja=Z("Generate Image"),Na={setup(e){const t=te("sky");async function l(h){const C=await Ma(h.target.files[0]),_=C.clouds.map(g=>t.cloud.create(g));t.setState(Pe(de({},C),{clouds:_,scale:1})),n()}function n(){t.setState({scale:Ia(t.state.width/t.state.scale,t.state.height/t.state.scale)})}function o(){t.history.back()}function s(){t.history.forward()}function a(){t.setState({scale:(Math.round(t.state.scale*100)-5)/100})}function r(){t.setState({scale:1})}function i(){t.setState({scale:(Math.round(t.state.scale*100)+5)/100})}function c(){$t(t.state)}function u(){za()}async function p(){console.time("handleGenerateImage");const h=Ra(t.vm.subTree.el.querySelector(".sky-renderer")),C=await Ta(h);console.timeEnd("handleGenerateImage");const _=URL.createObjectURL(C);window.open(_),URL.revokeObjectURL(_)}return(h,C)=>{const _=R("SkyButton");return S(),E("div",Ba,[b("input",{type:"file",onChange:l},null,32),d(_,{onClick:o},{default:z(()=>[Oa]),_:1}),d(_,{onClick:s},{default:z(()=>[Ha]),_:1}),d(_,{onClick:a},{default:z(()=>[Aa]),_:1}),d(_,{onClick:r},{default:z(()=>[Z(re(w(t).state.scale),1)]),_:1}),d(_,{onClick:i},{default:z(()=>[Pa]),_:1}),d(_,{onClick:c},{default:z(()=>[Da]),_:1}),d(_,{onClick:n},{default:z(()=>[La]),_:1}),d(_,{onClick:u},{default:z(()=>[Va]),_:1}),d(_,{onClick:p},{default:z(()=>[ja]),_:1})])}}};var Fa=F(Na,[["__scopeId","data-v-197f78f6"]]);const Ga={},qa={class:"aside-category"};function Ua(e,t){return S(),E("div",qa)}var Wa=F(Ga,[["render",Ua],["__scopeId","data-v-384f6454"]]);const Ka={setup(e){const t=te("sky"),l=H(null),n=A(()=>({width:`${t.state.width}px`,height:`${t.state.height}px`}));return ie(()=>{t.selecto.createInstance(l.value)}),(o,s)=>{const a=R("sky-editor");return S(),E("div",{ref:(r,i)=>{i.elRoot=r,l.value=r},class:"app-main"},[b("div",{class:"sky-editor-container",style:V(w(n))},[d(a,{class:"sky-editor__app"})],4)],512)}}};var Ya=F(Ka,[["__scopeId","data-v-08243271"]]);const Xa={setup(e){const t=ht(),l=t.fetch();return ie(async()=>{const n=ga();n&&sky.setState(n),await l,sky.state.clouds.filter(o=>o.type==="text").forEach(o=>{const s=t.list.find(a=>a.name===o.fontFamily);if(!s){o.fontFamily="SourceHanSansSC-Regular";return}t.addFont2Style(s.name,s.content.woff)})}),(n,o)=>(S(),E(J,null,[d(Fa),d(Wa),d(Ya)],64))}},ge=Jt(Xa);window.app=ge;console.log("app",ge);ge.use(_a);ge.use(Ho);ge.use(Qt());ge.component(rt.name,rt);const Ja=ge.mount("#app");console.log("vm",Ja);
